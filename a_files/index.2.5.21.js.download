!function(e){function t(t){for(var r,a,s=t[0],c=t[1],l=t[2],u=0,p=[];u<s.length;u++)a=s[u],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&p.push(o[a][0]),o[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(d&&d(t);p.length;)p.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==o[c]&&(r=!1)}r&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={66:0},i=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.e=function(e){var t=[],n=o[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,r){n=o[e]=[t,r]}));t.push(n[2]=r);var i,s=document.createElement("script");s.charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.src=function(e){return a.p+""+({13:"dashboard-addresses",14:"dashboard-order-history",15:"dashboard-payment",16:"dashboard-profile",17:"dashboard-reset-password",18:"dashboard-rewards",68:"login",69:"register"}[e]||e)+".2.5.21.js"}(e);var c=new Error;i=function(t){s.onerror=s.onload=null,clearTimeout(l);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+r+": "+i+")",c.name="ChunkLoadError",c.type=r,c.request=i,n[1](c)}o[e]=void 0}};var l=setTimeout((function(){i({type:"timeout",target:s})}),12e4);s.onerror=s.onload=i,document.head.appendChild(s)}return Promise.all(t)},a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="https://cdn.kfc.com.my/js/",a.oe=function(e){throw console.error(e),e};var s=window.webpack1585698655660=window.webpack1585698655660||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var d=c;i.push([90,0]),n()}([,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function s(e){r(a,o,i,s,c,"next",e)}function c(e){r(a,o,i,s,c,"throw",e)}s(void 0)}))}}var i={};window.$flowmethods=i,i.addedToCart=o(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.$LOADER.show(),t=window.$FLOW.env.item,"addToCart"!==window.$FLOW.flow&&"addToSelfcollectCart"!==window.$FLOW.flow&&"addDirectlyToDeliveryCart"!==window.$FLOW.flow&&"addDirectlyToSelfcollectCart"!==window.$FLOW.flow&&"campaignAddToSelfcollectCart"!==window.$FLOW.flow){e.next=30;break}if("self-collect"!==window.$STORE.method){e.next=18;break}return e.prev=4,e.next=7,window.$api.post("v2/self-collect/cart",window.$FLOW.env.item);case 7:e.next=14;break;case 9:e.prev=9,e.t0=e.catch(4),console.error(e.t0),window.$FLOW.cancel(),window.$MODAL.show("singleButtonModal",{name:"selfcollect-item-not-available",message:e.t0.err||"This item isn't available at your selected store.",cancelText:"Back to Menu",cancel:function(){!window.$APP.$route.path.includes("/self-collect/menu")&&window.$STORE.selfcollect.store.corporateId&&window.$APP.$router.push("/self-collect/menu/deals/deals")}});case 14:window.$STORE.initSelfCollectCartLength=0,window.$STORE.initSelfCollectCartPrice=0,e.next=30;break;case 18:return e.prev=18,e.next=21,window.$api.post("cart/addItem",window.$FLOW.env.item);case 21:e.next=28;break;case 23:e.prev=23,e.t1=e.catch(18),console.error(e.t1),window.$FLOW.cancel(),window.$MODAL.show("singleButtonModal",{name:"delivery-item-not-available",message:e.t1.message||"This item isn't available at your selected area.",cancelText:"Back to Menu",cancel:function(){!window.$APP.$route.path.includes("/delivery/menu")&&window.$STORE.delivery.corporateId&&window.$APP.$router.push("/delivery/menu/deals/deals")}});case 28:window.$STORE.initCartLength=0,window.$STORE.initCartPrice=0;case 30:if("reorder"!==window.$FLOW.flow){e.next=33;break}return e.next=33,window.$api.post("cart/addOrder",{orderid:window.$FLOW.env.orderId});case 33:if("selfcollectReorder"!==window.$FLOW.flow){e.next=36;break}return e.next=36,window.$api.post("v2/self-collect/cart/addOrder",{orderId:window.$FLOW.env.orderId});case 36:if("applyVoucher"!==window.$FLOW.flow){e.next=42;break}return e.next=39,window.$api.post("reward/apply",{rewardkeyId:window.$FLOW.env.voucher.id,items:t});case 39:return e.next=41,window.$api.post("reward/getCart");case 41:window.$STORE.rewardCart=e.sent;case 42:if("applyReward"!==window.$FLOW.flow){e.next=48;break}return e.next=45,window.$api.post("reward/apply",{rewardkeyId:window.$FLOW.env.userreward.rewardkeyId,items:t});case 45:return e.next=47,window.$api.post("reward/getCart");case 47:window.$STORE.rewardCart=e.sent;case 48:if("selfcollectApplyVoucher"!==window.$FLOW.flow){e.next=54;break}return e.next=51,window.$api.post("v2/self-collect/reward/applyVoucher",{rewardkeyId:window.$FLOW.env.voucher.id,items:window.$FLOW.env.item});case 51:return e.next=53,window.$api.get("v2/self-collect/reward/cart");case 53:window.$STORE.selfcollectRewardCart=e.sent;case 54:if("selfcollectApplyReward"!==window.$FLOW.flow){e.next=60;break}return e.next=57,window.$api.post("v2/self-collect/reward/apply",{rewardkeyId:window.$FLOW.env.userreward.rewardkeyId,items:window.$FLOW.env.item});case 57:return e.next=59,window.$api.get("v2/self-collect/reward/cart");case 59:window.$STORE.selfcollectRewardCart=e.sent;case 60:window.$LOADER.hide(),window.$FLOW.flow&&window.$FLOW.next();case 62:case"end":return e.stop()}}),e,null,[[4,9],[18,23]])}))),t.a=i},,,,,,,function(e,t,n){"use strict";(function(e){var r=n(52),o=n(53),i=n(63),a=n(3),s=n.n(a);function c(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){c(i,r,o,a,s,"next",e)}function s(e){c(i,r,o,a,s,"throw",e)}a(void 0)}))}}t.a={name:"landing",components:{IndexDeliveryCheckLocation:r.a,IndexSelfcollectCheckLocation:o.a,StoreTypeSelection:i.a},data:function(){return{visible:!1,status:"delivery",banners:[],displayStoreSelector:!1,selectedBanner:""}},watch:{$route:function(e,t){this.visible=!1,"/"===e.path&&(this.visible=!0,this.status=window.$STORE.method||"delivery")}},mounted:function(){var t=this;return l(regeneratorRuntime.mark((function n(){var r,o,i,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(i in(r=document.createElement("link")).href="https://fonts.googleapis.com/css?family=Assistant:400,700",r.rel="stylesheet",r.type="text/css",document.head.appendChild(r),o=["https://cdn.kfc.com.my/css/base.css","https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css"])(a=document.createElement("link")).href=o[i],a.rel="stylesheet",a.type="text/css",document.head.appendChild(a);if(!window.$STORE.siteMaintenance){n.next=9;break}return n.abrupt("return");case 9:t.getBanners(),setTimeout((function(){window.addEventListener("scroll",(function(){window.$STORE.loadImages()}),{passive:!0}),window.$STORE.loadImages()}),500),"android"!==e.env.BUILD_PLATFORM&&"ios"!==e.env.BUILD_PLATFORM&&s()().isBetween("2020-03-18 00:00:00","2020-12-31 23:59:59")&&t.setSiteTakeover();case 12:case"end":return n.stop()}}),n)})))()},methods:{changeOrderType:function(e){var t=this;return l(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.status!==e){n.next=2;break}return n.abrupt("return");case 2:t.status=e,window.$STORE.method=e;case 4:case"end":return n.stop()}}),n)})))()},getBanners:function(){var e=this;return l(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,window.$api.get("v2/banner/landing");case 2:e.banners=t.sent;case 3:case"end":return t.stop()}}),t)})))()},landingBannerNavigation:function(e){if(e.link&&e.link.includes("STORETYPE:"))return this.displayStoreSelector=!0,void(this.selectedBanner=e);e.link&&!e.meta?this.$router.push(e.link):e.meta&&(this.displayStoreSelector=!0,this.selectedBanner=e)},navigate:function(e){var t="",n="";if(this.selectedBanner.meta&&(t=JSON.parse(this.selectedBanner.meta)),"delivery"===e)if(t)n=t.page.delivery;else try{n=this.selectedBanner.link.replace("STORETYPE:","/delivery")}catch(e){n="/delivery/menu/deals/deals"}if("self-collect"===e)if(t)n=t.page.selfcollect;else try{n=this.selectedBanner.link.replace("STORETYPE:","/self-collect")}catch(e){n="/self-collect/menu/deals/deals"}window.$STORE.showStoreSelector=!1,this.displayStoreSelector=!1,this.selectedBanner="",this.$router.push(n)},hide:function(){window.$STORE.showStoreSelector=!1,this.displayStoreSelector=!1,this.selectedBanner=""},setSiteTakeover:function(){var t=this;"campaign-sitetakeover"!==window.sessionStorage.getItem("site-takeover")&&setTimeout((function(){"android"!==e.env.BUILD_PLATFORM&&"ios"!==e.env.BUILD_PLATFORM&&"/"===t.$route.path&&(window.$MODAL.show("site-takeover",{name:"site-takeover",message:"web-sitetakeover"}),window.sessionStorage.setItem("site-takeover","campaign-sitetakeover"))}),500)}}}}).call(this,n(2))},function(e,t,n){"use strict";(function(e){function n(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function r(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function s(e){r(a,o,i,s,c,"next",e)}function c(e){r(a,o,i,s,c,"throw",e)}s(void 0)}))}}var i={street:"route|street_name|street_address",area:"sublocality_level_1",city:"locality",state:"administrative_area_level_1",zip:"postal_code"};t.a={data:function(){return{showList:!1,selectedAddressIndex:-1,errorMessage:"",isSearching:!1,autocompleteThrottle:null,autocompleteLocations:[],autocompleteInput:"",autocompleteSearchComplete:!1}},created:function(){var e=this;return o(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.$STORE.siteMaintenance){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,window.$INITS.app;case 4:if(!e.$STORE.isLoggedIn||"addDashboardAddress"===window.$FLOW.flow){t.next=10;break}return t.next=7,window.$api.post("address/get");case 7:e.$STORE.addressList=t.sent,e.showList=e.$STORE.addressList.length,e.$STORE.delivery.addressId&&(e.selectedAddressIndex=e.$STORE.addressList.findIndex((function(t){return t.id===e.$STORE.delivery.addressId})));case 10:"addDashboardAddress"===window.$FLOW.flow&&(e.showList=!1);case 11:case"end":return t.stop()}}),t)})))()},mounted:function(){var e=this;return o(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,window.$STORE.loadPlugin("googlemaps");case 2:(n=new window.google.maps.places.Autocomplete(e.$refs.autocompleteinput,{componentRestrictions:{country:"my"}})).setFields(["address_components","types","place_id","geometry"]),n.addListener("place_changed",(function(){var t=n.getPlace();window.$FLOW.isInCurrentFlow("initDeliveryLocation")||window.$FLOW.isInCurrentFlow("addDeliveryLocation")||"addDashboardAddress"===window.$FLOW.flow||(window.$LOADER.show(),window.$FLOW.start("initDeliveryLocation")),window.$FLOW.env.locationInput=e.autocompleteInput,e.setLocationResult(t),window.$FLOW.env.locationInput=e.autocompleteInput,window.$FLOW.env.address.latitude=t.geometry.location.lat(),window.$FLOW.env.address.longitude=t.geometry.location.lng(),window.$FLOW.env.address.location={address_components:t.address_components,types:t.types,place_id:t.place_id},window.$FLOW.next(),e.$refs.autocompleteinput.value=window.$FLOW.env.locationInput}));case 5:case"end":return t.stop()}}),t)})))()},methods:{selectAddress:function(e){window.$FLOW.isInCurrentFlow("initDeliveryLocation")||window.$FLOW.isInCurrentFlow("addDeliveryLocation")||"addDashboardAddress"===window.$FLOW.flow||window.$FLOW.start("initDeliveryLocation"),this.selectedAddressIndex=e},viewSavedAddress:function(){var e=this;return o(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.showList=!0,e.$STORE.addressList.length||!e.$STORE.isLoggedIn){t.next=6;break}return t.next=4,window.$api.post("address/get");case 4:e.$STORE.addressList=t.sent,e.$STORE.delivery.addressId&&(e.selectedAddressIndex=e.$STORE.addressList.findIndex((function(t){return t.id===e.$STORE.delivery.addressId})));case 6:case"end":return t.stop()}}),t)})))()},proceedDeliveryAddress:function(){var e=this;return o(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(window.$LOADER.show(),!e.$STORE.selfcollect.store.id||!(e.$STORE.selfcollectCart.length>0||window.$STORE.initSelfCollectCartLength)){t.next=5;break}return window.$LOADER.hide(),e.$MODAL.show("message",{name:"change-to-selfcollect",message:"You are leaving your ".concat("delivery"===e.$STORE.method?"Self Collect":"Delivery"," order. The items in your cart will not be saved."),ok:{afterClose:function(){window.$api.del("v2/self-collect/store/selected"),e.$STORE.clearSelfCollectLocation(),e.processSelectedAddress()}}}),t.abrupt("return");case 5:e.processSelectedAddress();case 6:case"end":return t.stop()}}),t)})))()},processSelectedAddress:function(){window.$LOADER.show(),window.$FLOW.isInCurrentFlow("initDeliveryLocation")||window.$FLOW.isInCurrentFlow("addDeliveryLocation")||"addDashboardAddress"===window.$FLOW.flow||window.$FLOW.start("initDeliveryLocation");var e=this.$STORE.addressList[this.selectedAddressIndex];window.$FLOW.env.address={unit:e.unit,building:e.building,area:e.area,city:e.city,state:e.state,street:e.street,zip:e.zip,locationGroup:e.locationGroup,latitude:e.latitude,longitude:e.longitude,addressId:e.id,osid:e.osid},window.$FLOW.next()},autocomplete:function(){var e=this;window.$FLOW.isInCurrentFlow("initDeliveryLocation")||window.$FLOW.isInCurrentFlow("addDeliveryLocation")||"addDashboardAddress"===window.$FLOW.flow||window.$FLOW.start("initDeliveryLocation"),this.autocompleteSearchComplete=!1,clearTimeout(this.autocompleteThrottle),this.autocompleteInput&&(this.isSearching=!0,this.autocompleteLocations=[],this.autocompleteThrottle=setTimeout(o(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.autocompleteInput,t.next=3,e.getAddress(n);case 3:if(r=t.sent,n===e.autocompleteInput){t.next=6;break}return t.abrupt("return");case 6:e.isSearching=!1,e.autocompleteSearchComplete=!0,r.length&&(e.autocompleteLocations=r);case 9:case"end":return t.stop()}}),t)}))),this.autocompleteInput.length>5?700:2e3))},getAddress:function(e){var t=this;return o(regeneratorRuntime.mark((function r(){var o,i,a,s;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,window.fetch("https://maps.googleapis.com/maps/api/place/autocomplete/json?input=".concat(e,"&key=").concat("AIzaSyB83Jp1Zb4E9Ppbb7VNZNi2K_gC_2DsWPk","&components=country:my&types=geocode")).then((function(e){return e.json()}));case 2:return o=r.sent,i=o.predictions.filter((function(e){return e.types.indexOf("route")>=0||e.types.indexOf("street_name")>=0||e.types.indexOf("street_address")>=0})),console.log("filter geocode"),console.log(i),r.next=8,window.fetch("https://maps.googleapis.com/maps/api/place/autocomplete/json?input=".concat(e,"&key=").concat("AIzaSyB83Jp1Zb4E9Ppbb7VNZNi2K_gC_2DsWPk","&components=country:my&types=establishment")).then((function(e){return e.json()}));case 8:return a=r.sent,s=a.predictions.map((function(e){return t.details(e.place_id)})),console.log("filter establishment"),console.log(s),r.abrupt("return",[].concat(n(i),n(s)));case 13:case"end":return r.stop()}}),r)})))()},getAddressDetails:function(e){return o(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,window.fetch("https://maps.googleapis.com/maps/api/place/details/json?placeid=".concat(e,"&key=").concat("AIzaSyB83Jp1Zb4E9Ppbb7VNZNi2K_gC_2DsWPk")).then((function(e){return e.json()}));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))()},selectLocation:function(e){var t=this;if(window.$LOADER.show(),this.$STORE.selfcollect.store.id&&(this.$STORE.selfcollectCart.length>0||window.$STORE.initSelfCollectCartLength))return window.$LOADER.hide(),void this.$MODAL.show("message",{name:"set-location-change-method",message:"You are leaving your ".concat("delivery"===this.$STORE.method?"Self Collect":"Delivery"," order. The items in your cart will not be saved."),ok:{afterClose:function(){window.$api.del("v2/self-collect/store/selected"),t.$STORE.clearSelfCollectLocation(),t.processSelectLocation(e)}}});this.processSelectLocation(e)},processSelectLocation:function(e){var t=this;return o(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(window.$LOADER.show(),window.$FLOW.isInCurrentFlow("initDeliveryLocation")||window.$FLOW.isInCurrentFlow("addDeliveryLocation")||"addDashboardAddress"===window.$FLOW.flow||window.$FLOW.start("initDeliveryLocation"),!e.os){n.next=7;break}return window.$FLOW.env.address={street:e.street_full,city:e.city,state:e.state,zip:e.zip,osid:e.id},window.$FLOW.env.locationInput=t.autocompleteInput,window.$FLOW.next(),n.abrupt("return");case 7:return n.next=9,window.$api.post("map/details",{placeid:e.place_id});case 9:if(r=n.sent,window.$FLOW.env.address={},t.addressHasRouteOrPremise(r.address_components)){n.next=16;break}if(r.types.includes("establishment")){n.next=15;break}return t.errorMessage="Please enter a more specific address",n.abrupt("return");case 15:window.$FLOW.env.address.street=r.name;case 16:window.$FLOW.env.address.latitude=r.geometry.location.lat,window.$FLOW.env.address.longitude=r.geometry.location.lng,t.setLocationResult(r),window.$FLOW.env.locationInput=t.autocompleteInput,window.$FLOW.env.address.location=Object.assign({},e),window.$FLOW.next();case 22:case"end":return n.stop()}}),n)})))()},useMyLocation:function(){var t=this;return o(regeneratorRuntime.mark((function n(){var r,o,i,a,s;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return"android"===e.env.BUILD_PLATFORM||"ios"===e.env.BUILD_PLATFORM?window.$WAIT.show("Searching for GPS..","location","cancel"):window.$WAIT.show("Getting your location..","location","cancel"),window.$FLOW.isInCurrentFlow("initDeliveryLocation")||window.$FLOW.isInCurrentFlow("addDeliveryLocation")||"addDashboardAddress"===window.$FLOW.flow||window.$FLOW.start("initDeliveryLocation"),n.prev=2,n.next=5,t.getCoordinates();case 5:return r=n.sent,o=r.latitude,i=r.longitude,n.next=10,window.fetch("https://maps.googleapis.com/maps/api/geocode/json?latlng=".concat(o,",").concat(i,"&result_type[]=street_address,route&key=").concat("AIzaSyB83Jp1Zb4E9Ppbb7VNZNi2K_gC_2DsWPk")).then((function(e){return e.json()}));case 10:if(a=n.sent,s=a.results.find((function(e){return e.types.includes("route")||e.types.includes("street_address")||e.types.includes("street_name")}))){n.next=14;break}throw new Error("No valid component found for addresses.");case 14:window.$FLOW.env.address={latitude:o,longitude:i},t.setLocationResult(s),window.$WAIT.visible&&(window.$WAIT.hide(),window.$FLOW.next()),n.next=24;break;case 19:n.prev=19,n.t0=n.catch(2),window.$WAIT.cancel(),window.$LOADERERROR.show("location"),console.error(n.t0);case 24:case"end":return n.stop()}}),n,null,[[2,19]])})))()},getCoordinates:function(){return o(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("android"!==e.env.BUILD_PLATFORM){t.next=5;break}return t.next=3,window.$androidCheckPermission("android.permission.ACCESS_FINE_LOCATION");case 3:t.sent||console.error("android.permission.ACCESS_FINE_LOCATION permission is not granted.");case 5:if("ios"!==e.env.BUILD_PLATFORM&&"android"!==e.env.BUILD_PLATFORM){t.next=13;break}return t.prev=6,t.abrupt("return",window.$mobile("getUserCoordinates"));case 10:t.prev=10,t.t0=t.catch(6),console.error(t.t0);case 13:if(window.navigator.geolocation){t.next=16;break}return window.alert("Browser does not support Geolocation"),t.abrupt("return");case 16:return t.abrupt("return",new Promise((function(e,t){window.navigator.geolocation.getCurrentPosition(function(){var t=o(regeneratorRuntime.mark((function t(n){var r,o,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=n.coords,o=r.latitude,i=r.longitude,e({latitude:o,longitude:i});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(e){t(e)}),{enableHighAccuracy:!0,timeout:1e4})})));case 17:case"end":return t.stop()}}),t,null,[[6,10]])})))()},addressHasRouteOrPremise:function(e){return e.some((function(e){return e.types.includes("route")||e.types.includes("street_name")||e.types.includes("street_address")||e.types.includes("premise")}))},getLocationDataByKey:function(e,t){var n=i[t].split("|"),r=e.find((function(e){if(1===n.length)return e.types.includes(n[0]);for(var t=0;t<n.length;t++)if(e.types.includes(n[t]))return!0;return!1}));return r?r.long_name:""},setLocationResult:function(e){var t=e.address_components;for(var n in window.$FLOW.env.address=Object.assign({},window.$FLOW.env.address),i)window.$FLOW.env.address[n]=this.getLocationDataByKey(t,n);if(!!window.$FLOW.env.address.street){var r=!1;if(window.$FLOW.env.address.unit=t.filter((function(e){return!r&&!(r=e.types.includes("route")||e.types.includes("street_name")||e.types.includes("street_address"))})).map((function(e){return e.long_name})).join(" "),e.types.includes("establishment")&&(window.$FLOW.env.address.building=e.name),!window.$FLOW.env.address.building){var o=t.find((function(e){return e.types.includes("premise")}));o&&(window.$FLOW.env.address.building=o.long_name)}}else{var a=t.find((function(e){return e.types.includes("premise")}));a?window.$FLOW.env.address.street=a.long_name:e.types.includes("establishment")&&(window.$FLOW.env.address.street=e.name)}if(!window.$FLOW.env.address.building&&!e.types.includes("establishment")&&window.location.structured_formatting){var s=window.location.structured_formatting.main_text.replace(window.$FLOW.env.address.street,"").trim();s&&(window.$FLOW.env.address.building=s)}}}}}).call(this,n(2))},function(e,t,n){var r=n(96);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,n(10).default)("04526da3",r,!0,{})},function(e,t,n){"use strict";(function(e){function n(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function r(e){return function(){var t=this,r=arguments;return new Promise((function(o,i){var a=e.apply(t,r);function s(e){n(a,o,i,s,c,"next",e)}function c(e){n(a,o,i,s,c,"throw",e)}s(void 0)}))}}var o={street:"route|street_name|street_address",area:"sublocality_level_1",city:"locality",state:"administrative_area_level_1",zip:"postal_code"};t.a={data:function(){return{showList:!1,showSelfcollectList:window.$STORE.isLoggedIn,selectedStoreId:0,isSearching:!1,autocompleteThrottle:null,autocompleteLocations:[],autocompleteInput:"",autocompleteSearchComplete:!1}},mounted:function(){var e=this;return r(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,window.$STORE.loadPlugin("googlemaps");case 2:(n=new window.google.maps.places.Autocomplete(e.$refs.autocompleteinput,{componentRestrictions:{country:"my"}})).setFields(["address_components","types","place_id","geometry"]),n.addListener("place_changed",(function(){window.$FLOW.isInCurrentFlow("initSelfcollectLocation")||window.$FLOW.isInCurrentFlow("addSelfcollectLocation")||(window.$LOADER.show(),window.$FLOW.start("initSelfcollectLocation")),window.$FLOW.env.locationInput=e.autocompleteInput;var t=n.getPlace();e.setLocationResult(t),window.$FLOW.env.address.latitude=t.geometry.location.lat(),window.$FLOW.env.address.longitude=t.geometry.location.lng(),window.$FLOW.env.address.location={address_components:t.address_components,types:t.types,place_id:t.place_id},window.$FLOW.next(),e.$refs.autocompleteinput.value=window.$FLOW.env.locationInput}));case 5:case"end":return t.stop()}}),t)})))()},methods:{selectLocation:function(e){var t=this;if(window.$LOADER.show(),window.$STORE.delivery.corporateId&&(window.$STORE.cart.length>0||window.$STORE.initCartLength))return window.$LOADER.hide(),void this.$MODAL.show("message",{name:"change-to-delivery",message:"You are leaving your ".concat("delivery"===window.$STORE.method?"Self Collect":"Delivery"," order. The items in your cart will not be saved."),ok:{afterClose:function(){window.$api.del("v2/delivery/store/selected"),window.$STORE.clearDeliveryLocation(),t.processSelectLocation(e)}}});this.processSelectLocation(e)},processSelectLocation:function(e){var t=this;return r(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return window.$LOADER.show(),window.$FLOW.isInCurrentFlow("initSelfcollectLocation")||window.$FLOW.isInCurrentFlow("addSelfcollectLocation")||window.$FLOW.start("initSelfcollectLocation"),n.next=4,window.$api.post("v2/self-collect/map/details",{placeid:e.place_id});case 4:r=n.sent,window.$FLOW.env.address={},window.$FLOW.env.address.user={},e.structured_formatting&&(window.$FLOW.env.address.user.main=e.structured_formatting.main_text,window.$FLOW.env.address.user.secondary=e.structured_formatting.secondary_text),r.geometry&&(window.$FLOW.env.address.latitude=r.geometry.location.lat,window.$FLOW.env.address.longitude=r.geometry.location.lng),window.$FLOW.env.locationInput=t.autocompleteInput,window.$FLOW.env.address.location=Object.assign({},e),window.$FLOW.next();case 12:case"end":return n.stop()}}),n)})))()},selectAddress:function(e){this.selectedStoreId=e},autocomplete:function(){var e=this;window.$FLOW.isInCurrentFlow("initSelfcollectLocation")||window.$FLOW.isInCurrentFlow("addSelfcollectLocation")||window.$FLOW.start("initSelfcollectLocation"),this.autocompleteSearchComplete=!1,clearTimeout(this.autocompleteThrottle),this.autocompleteInput&&(this.isSearching=!0,this.autocompleteLocations=[],this.autocompleteThrottle=setTimeout(r(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.autocompleteInput,t.next=3,window.$api.post("v2/self-collect/map/autocomplete",{input:n});case 3:if(r=t.sent,n===e.autocompleteInput){t.next=6;break}return t.abrupt("return");case 6:e.isSearching=!1,e.autocompleteSearchComplete=!0,r.length&&(e.autocompleteLocations=r);case 9:case"end":return t.stop()}}),t)}))),this.autocompleteInput.length>5?700:2e3))},useMyLocation:function(){var t=this;return r(regeneratorRuntime.mark((function n(){var r,o,i,a,s;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return"android"===e.env.BUILD_PLATFORM||"ios"===e.env.BUILD_PLATFORM?window.$WAIT.show("Searching for GPS..","location","cancel"):window.$WAIT.show("Getting your location..","location","cancel"),window.$FLOW.isInCurrentFlow("initSelfcollectLocation")||window.$FLOW.isInCurrentFlow("addSelfcollectLocation")||window.$FLOW.start("initSelfcollectLocation"),n.prev=2,n.next=5,t.getCoordinates();case 5:return r=n.sent,o=r.latitude,i=r.longitude,n.next=10,window.fetch("https://maps.googleapis.com/maps/api/geocode/json?latlng=".concat(o,",").concat(i,"&result_type[]=street_address,route&key=").concat("AIzaSyB83Jp1Zb4E9Ppbb7VNZNi2K_gC_2DsWPk")).then((function(e){return e.json()}));case 10:if(a=n.sent,s=a.results.find((function(e){return e.types.includes("route")||e.types.includes("street_address")||e.types.includes("street_name")}))){n.next=14;break}throw new Error("No valid component found for addresses.");case 14:window.$FLOW.env.address={latitude:o,longitude:i},window.$FLOW.env.address.location=Object.assign({},s),t.setLocationResult(s),window.$WAIT.visible&&(window.$WAIT.hide(),window.$FLOW.next()),n.next=25;break;case 20:n.prev=20,n.t0=n.catch(2),window.$WAIT.cancel(),window.$LOADERERROR.show("location"),console.error(n.t0);case 25:case"end":return n.stop()}}),n,null,[[2,20]])})))()},getLocationDataByKey:function(e,t){var n=o[t].split("|"),r=e.find((function(e){if(1===n.length)return e.types.includes(n[0]);for(var t=0;t<n.length;t++)if(e.types.includes(n[t]))return!0;return!1}));return r?r.long_name:""},setLocationResult:function(e){var t=e.address_components;for(var n in window.$FLOW.env.address=Object.assign({},window.$FLOW.env.address),o)window.$FLOW.env.address[n]=this.getLocationDataByKey(t,n);if(!!window.$FLOW.env.address.street){var r=!1;if(window.$FLOW.env.address.unit=t.filter((function(e){return!r&&!(r=e.types.includes("route")||e.types.includes("street_name")||e.types.includes("street_address"))})).map((function(e){return e.long_name})).join(" "),e.types.includes("establishment")&&(window.$FLOW.env.address.building=e.name),!window.$FLOW.env.address.building){var i=t.find((function(e){return e.types.includes("premise")}));i&&(window.$FLOW.env.address.building=i)}}else{var a=t.find((function(e){return e.types.includes("premise")}));a?window.$FLOW.env.address.street=a.long_name:e.types.includes("establishment")&&(window.$FLOW.env.address.street=e.name)}if(!window.$FLOW.env.address.building&&!e.types.includes("establishment")&&window.location.structured_formatting){var s=window.location.structured_formatting.main_text.replace(window.$FLOW.env.address.street,"").trim();s&&(window.$FLOW.env.address.building=s)}},getCoordinates:function(){return r(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("android"!==e.env.BUILD_PLATFORM){t.next=5;break}return t.next=3,window.$androidCheckPermission("android.permission.ACCESS_FINE_LOCATION");case 3:t.sent||console.error("android.permission.ACCESS_FINE_LOCATION permission is not granted.");case 5:if("ios"!==e.env.BUILD_PLATFORM&&"android"!==e.env.BUILD_PLATFORM){t.next=7;break}return t.abrupt("return",window.$mobile("getUserCoordinates"));case 7:if(window.navigator.geolocation){t.next=10;break}return window.alert("Browser doesn not support Geolocation"),t.abrupt("return");case 10:return t.abrupt("return",new Promise((function(e,t){window.navigator.geolocation.getCurrentPosition(function(){var t=r(regeneratorRuntime.mark((function t(n){var r,o,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=n.coords,o=r.latitude,i=r.longitude,e({latitude:o,longitude:i});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(e){t(e)}),{enableHighAccuracy:!0,timeout:1e4})})));case 11:case"end":return t.stop()}}),t)})))()}}}}).call(this,n(2))},function(e,t,n){var r=n(98);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,n(10).default)("d6cb0ea4",r,!0,{})},function(e,t,n){var r=n(100);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,n(10).default)("7a283a9a",r,!0,{})},function(e,t,n){var r=n(102);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,n(10).default)("846883ea",r,!0,{})},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(22).a,o=(n(95),n(1)),i=Object(o.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"delivery-check-location"}},[e.showList?n("div",{staticClass:"address-list"},[e.$STORE.addressList.length?n("div",[n("ul",e._l(e.$STORE.addressList,(function(t,r){return n("li",{key:r},[n("div",{staticClass:"address"},[n("b",[e._v(e._s(t.unit)+" "+e._s(t.street))]),n("p",[e._v(e._s(t.area)),n("br"),e._v(e._s(t.city))])]),n("div",{staticClass:"button-wrapper"},[n("button",{staticClass:"white-button",class:{selected:e.selectedAddressIndex===r},on:{click:function(t){return e.selectAddress(r)}}},[n("span",[e._v("Select")])])])])})),0),n("button",{staticClass:"button full",attrs:{disabled:e.selectedAddressIndex<0,"gtm-label":"delivery.check-location.proceed"},on:{click:e.proceedDeliveryAddress}},[e._v("Proceed")])]):n("div",{staticClass:"no-record"},[e._v("No saved address.")]),n("button",{staticClass:"other",attrs:{"gtm-label":"delivery.check-location.delivery-another-address"},on:{click:function(t){e.showList=!1}}},[e._v("Deliver to another address")])]):e._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.showList,expression:"!showList"}],staticClass:"choose-location"},[n("button",{staticClass:"button full mobile",attrs:{"gtm-label":"delivery.check-location.use-my-location.mobile"},on:{click:e.useMyLocation}},[e._v("Use my location")]),n("p",{staticClass:"or mobile"},[e._v("or")]),n("div",{staticClass:"input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.autocompleteInput,expression:"autocompleteInput"}],ref:"autocompleteinput",attrs:{type:"text",placeholder:"Enter your street address"},domProps:{value:e.autocompleteInput},on:{input:function(t){t.target.composing||(e.autocompleteInput=t.target.value)}}})]),n("div",{staticClass:"search-list"},[e.isSearching&&e.autocompleteInput?n("p",[e._v("Searching")]):e._e(),e.autocompleteInput&&!e.isSearching&&!e.autocompleteLocations.length&&e.autocompleteSearchComplete?n("p",[e._v("No result found.")]):e._e(),e.autocompleteInput&&!e.isSearching&&e.autocompleteLocations.length?n("ul",{staticClass:"result"},e._l(e.autocompleteLocations,(function(t){return n("li",{key:t.place_id,attrs:{value:t.place_id},domProps:{innerHTML:e._s(t.terms[0].value+", "+t.terms[1].value)},on:{click:function(n){return e.selectLocation(t)}}})})),0):e._e(),n("img",{directives:[{name:"show",rawName:"v-show",value:e.autocompleteLocations.length&&e.autocompleteInput&&e.autocompleteSearchComplete,expression:"autocompleteLocations.length && autocompleteInput && autocompleteSearchComplete"}],staticClass:"google-image",attrs:{src:"https://maps.gstatic.com/mapfiles/api-3/images/powered-by-google-on-white3.png"}})]),n("p",{staticClass:"or desktop"},[e._v("or")]),n("button",{staticClass:"button full desktop",attrs:{"gtm-label":"delivery.check-location.use-my-location"},on:{click:e.useMyLocation}},[e._v("Use my location")]),e.$STORE.isLoggedIn&&"addDashboardAddress"!==e.$FLOW.flow?n("button",{staticClass:"other",attrs:{"gtm-label":"delivery.check-location.viewed-save-address"},on:{click:function(t){return e.viewSavedAddress()}}},[e._v("View saved address")]):e._e()])])}),[],!1,null,"110afad0",null);t.a=i.exports},function(e,t,n){"use strict";var r=n(24).a,o=(n(97),n(1)),i=Object(o.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"selfcollect-check-location"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!e.showList,expression:"!showList"}],staticClass:"choose-location"},[n("p",{staticClass:"text-center"},[e._v("*Self Collect is only available at selected KFC stores.")]),n("br"),n("button",{staticClass:"button full mobile",attrs:{"gtm-label":"selfcollect.check-location.use-my-location.mobile"},on:{click:e.useMyLocation}},[e._v("Use my location")]),n("p",{staticClass:"or mobile"},[e._v("or")]),n("div",{staticClass:"input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.autocompleteInput,expression:"autocompleteInput"}],ref:"autocompleteinput",attrs:{type:"text",placeholder:"Enter your street address"},domProps:{value:e.autocompleteInput},on:{input:function(t){t.target.composing||(e.autocompleteInput=t.target.value)}}})]),n("div",{staticClass:"search-list"},[e.isSearching&&e.autocompleteInput?n("p",[e._v("Searching")]):e._e(),e.autocompleteInput&&!e.isSearching&&!e.autocompleteLocations.length&&e.autocompleteSearchComplete?n("p",[e._v("No result found.")]):e._e(),e.autocompleteInput&&!e.isSearching&&e.autocompleteLocations.length?n("ul",{staticClass:"result"},e._l(e.autocompleteLocations,(function(t){return n("li",{key:t.place_id,attrs:{value:t.place_id},domProps:{innerHTML:e._s(t.terms[0].value+", "+t.terms[1].value)},on:{click:function(n){return e.selectLocation(t)}}})})),0):e._e(),n("img",{directives:[{name:"show",rawName:"v-show",value:e.autocompleteLocations.length&&e.autocompleteInput&&e.autocompleteSearchComplete,expression:"autocompleteLocations.length && autocompleteInput && autocompleteSearchComplete"}],staticClass:"google-image",attrs:{src:"https://maps.gstatic.com/mapfiles/api-3/images/powered-by-google-on-white3.png"}})]),n("p",{staticClass:"or desktop"},[e._v("or")]),n("button",{staticClass:"button full desktop",attrs:{"gtm-label":"selfcollect.check-location.use-my-location"},on:{click:e.useMyLocation}},[e._v("Use my location")])])])}),[],!1,null,"b1f712ea",null);t.a=i.exports},,,,,,function(e,t,n){"use strict";t.a={campaignAddToSelfcollectCart:["route:/maintenance-message","route:/self-collect/check-location","flow:addSelfcollectLocation","route:/self-collect/item/{{slug}}","method:addedToCart","route:/self-collect/cart"],initDeliveryLocation:["flow:addDeliveryLocation","route:/delivery/menu/deals/deals"],addDeliveryLocation:["route:/maintenance-message","route:/delivery/location-map","route:/delivery/out-of-coverage","flow:checkEta"],checkEta:["route:/maintenance-message","route:/delivery/order-eta","route:/delivery/unavailable"],addToCart:["route:/delivery/item/{{slug}}","route:/maintenance-message","route:/delivery/check-location","flow:addDeliveryLocation","method:addedToCart","modal:deliveryTimeWarning","route:/delivery/cart"],addDirectlyToDeliveryCart:["route:/maintenance-message","route:/delivery/check-location","flow:addDeliveryLocation","method:addedToCart","modal:deliveryTimeWarning","route:/delivery/cart"],addToSelfcollectCart:["route:/self-collect/item/{{slug}}","route:/maintenance-message","route:/self-collect/check-location","flow:addSelfcollectLocation","method:addedToCart","modal:selfcollectTimeWarning","route:/self-collect/cart"],addDirectlyToSelfcollectCart:["route:/maintenance-message","route:/self-collect/check-location","flow:addSelfcollectLocation","method:addedToCart","modal:selfcollectTimeWarning","route:/self-collect/cart"],addDashboardAddress:["route:/delivery/check-location","route:/delivery/location-map","route:/delivery/out-of-coverage","route:/dashboard/address/edit"],reorder:["route:/maintenance-message","route:/delivery/check-location","flow:addDeliveryLocation","method:addedToCart","route:/delivery/cart"],selfcollectReorder:["route:/maintenance-message","route:/self-collect/check-location","flow:addSelfcollectLocation","method:addedToCart","route:/self-collect/cart"],checkout:["route:/maintenance-message","modal:minimumOrder","route:/delivery/checkout"],selfcollectCheckout:["route:/maintenance-message","modal:selfcollectMinimumOrder","route:/self-collect/checkout"],checkoutUnavailable:["route:/delivery/unavailable"],selfcollectCheckoutUnavailable:["route:/self-collect/unavailable"],changeDeliveryAddress:["flow:initDeliveryLocation"],initSelfcollectLocation:["flow:addSelfcollectLocation","route:/self-collect/menu/deals/deals"],addSelfcollectLocation:["route:/maintenance-message","route:/self-collect/location-map","route:/self-collect/unavailable","flow:checkSelfcollectEta"],checkSelfcollectEta:["route:/maintenance-message","route:/self-collect/order-eta","route:/self-collect/unavailable"],applyVoucher:["route:/delivery/item/{{itemId}}","route:/maintenance-message","route:/delivery/check-location","flow:addDeliveryLocation","method:addedToCart","route:/delivery/cart"],applyReward:["route:/delivery/item/{{itemId}}","route:/maintenance-message","route:/delivery/check-location","flow:addDeliveryLocation","method:addedToCart","route:/delivery/cart"],showWarningMoreThan150:["modal:deliveryTimeWarning"],selfcollectShowWarningMoreThan150:["modal:selfcollectTimeWarning"],deliveryChangeAddressDetails:["route:/delivery/address-details"],selfcollectChangeStore:["route:/self-collect/change-store"],selectCashChange:["route:/delivery/cash-change"],selfcollectApplyVoucher:["route:/self-collect/item/{{itemId}}","route:/maintenance-message","route:/self-collect/check-location","flow:addSelfcollectLocation","method:addedToCart","route:/self-collect/cart"],selfcollectApplyReward:["route:/self-collect/item/{{itemId}}","route:/maintenance-message","route:/self-collect/check-location","flow:addSelfcollectLocation","method:addedToCart","route:/self-collect/cart"],campaignLogin:["route:/login","route:/register","route:/dashboard/rewards/"],dota2login:["flow:login","route:/dota2klmajor"],storeClosedAfter1030:["modal:storeClosedAfter1030","flow:checkEta"],login:["route:/login","route:/register"]}},function(e,t,n){"use strict";(function(e){var r=function(){return n.e(79).then(n.bind(null,317))},o=function(){return n.e(97).then(n.bind(null,300))},i=function(){return Promise.all([n.e(0),n.e(149)]).then(n.bind(null,305))},a=function(){return n.e(82).then(n.bind(null,326))},s=function(){return Promise.all([n.e(0),n.e(165)]).then(n.bind(null,312))},c=function(){return n.e(88).then(n.bind(null,330))},l=function(){return n.e(151).then(n.bind(null,295))},d=function(){return n.e(152).then(n.bind(null,293))},u=function(){return n.e(84).then(n.bind(null,320))},p=function(){return n.e(108).then(n.bind(null,279))},f=new(n(30).a)({mode:"ios"===e.env.BUILD_PLATFORM||"android"===e.env.BUILD_PLATFORM?"hash":"history",scrollBehavior:function(e,t,n){return e.path.indexOf("/menu")>=0&&t.path.indexOf("/menu")>=0?null:{x:0,y:0}},routes:[{path:"/reset/:key",components:{body:function(){return n.e(130).then(n.bind(null,302))}}},{path:"/",components:{deliveryHeader:l,selfcollectHeader:d}},{path:"/delivery/order-option",components:{deliveryHeader:l,body:function(){return n.e(150).then(n.bind(null,259))}}},{path:"/self-collect/order-option",components:{deliveryHeader:l,body:function(){return n.e(167).then(n.bind(null,294))}}},{path:"/delivery-survey",components:{body:function(){return n.e(98).then(n.bind(null,304))}}},{path:"/ordering-method",components:{body:function(){return n.e(95).then(n.bind(null,297))}}},{path:"/login",components:{body:function(){return n.e(68).then(n.bind(null,322))}}},{path:"/forgot-password",components:{body:function(){return n.e(111).then(n.bind(null,296))}}},{path:"/register",components:{body:function(){return n.e(69).then(n.bind(null,324))}}},{path:"/menu",components:{deliveryHeader:l,body:i}},{path:"/delivery/menu",components:{deliveryHeader:l,body:i}},{path:"/delivery/menu/:category",components:{deliveryHeader:l,body:i}},{path:"/delivery/menu/:category/:subcategory",components:{deliveryHeader:l,body:function(){return Promise.all([n.e(0),n.e(141)]).then(n.bind(null,325))}}},{path:"/delivery/item",components:{deliveryHeader:l,body:a}},{path:"/delivery/item/:slug",components:{deliveryHeader:l,body:a},props:{deliveryHeader:{orderButton:!1}}},{path:"/delivery/cart",components:{body:function(){return Promise.all([n.e(0),n.e(77)]).then(n.bind(null,328))}}},{path:"/self-collect/menu",components:{selfcollectHeader:d,body:s}},{path:"/self-collect/menu/:category",components:{selfcollectHeader:d,body:s}},{path:"/self-collect/menu/:category/:subcategory",components:{selfcollectHeader:d,body:function(){return Promise.all([n.e(0),n.e(89)]).then(n.bind(null,329))}}},{path:"/self-collect/item",components:{selfcollectHeader:d,body:c}},{path:"/self-collect/item/:slug",components:{selfcollectHeader:d,body:c}},{path:"/self-collect/cart",components:{body:function(){return Promise.all([n.e(0),n.e(75)]).then(n.bind(null,319))}}},{path:"/delivery/redeem-voucher",components:{deliveryHeader:l,body:function(){return n.e(104).then(n.bind(null,298))}}},{path:"/self-collect/redeem-voucher",components:{selfcollectHeader:d,body:function(){return n.e(135).then(n.bind(null,252))}}},{path:"/delivery/checkout",components:{body:function(){return n.e(81).then(n.bind(null,315))}}},{path:"/self-collect/checkout",components:{body:function(){return n.e(87).then(n.bind(null,327))}}},{path:"/self-collect/details",components:{selfcollectHeader:d,body:function(){return n.e(161).then(n.bind(null,254))}}},{path:"/self-collect/order-confirmation/:pid",components:{selfcollectHeader:d,body:function(){return n.e(90).then(n.bind(null,318))}},props:{selfcollectHeader:{orderButton:!1}}},{path:"/delivery/order-confirmation/:pid",components:{deliveryHeader:l,body:function(){return n.e(76).then(n.bind(null,316))}},props:{body:!0,deliveryHeader:{orderButton:!1}}},{path:"/dashboard",components:{deliveryHeader:l,selfcollectHeader:d,body:r}},{path:"/dashboard/address/edit",components:{deliveryHeader:l,selfcollectHeader:d,body:o}},{path:"/dashboard/address/edit/:id",components:{deliveryHeader:l,selfcollectHeader:d,body:o}},{path:"/dashboard/:tab",components:{deliveryHeader:l,selfcollectHeader:d,body:r}},{path:"/dashboard/:tab/:method",components:{deliveryHeader:l,selfcollectHeader:d,body:r}},{path:"/delivery/details",components:{body:function(){return n.e(145).then(n.bind(null,251))}}},{path:"/delivery/address-details",components:{body:function(){return n.e(142).then(n.bind(null,250))}}},{path:"/delivery/address-unit",components:{body:function(){return n.e(143).then(n.bind(null,248))}}},{path:"/delivery/eta",components:{body:function(){return n.e(148).then(n.bind(null,249))}}},{path:"/delivery/order-eta",components:{body:function(){return n.e(83).then(n.bind(null,332))}}},{path:"/delivery/order-eta/date",components:{body:function(){return n.e(146).then(n.bind(null,253))}}},{path:"/delivery/order-eta/time",components:{body:function(){return n.e(147).then(n.bind(null,255))}}},{path:"/delivery/order-details",components:{body:function(){return n.e(102).then(n.bind(null,256))}}},{path:"/delivery/advance-order",components:{deliveryHeader:l,body:function(){return n.e(144).then(n.bind(null,257))}}},{path:"/delivery/location-map",components:{deliveryHeader:l,body:function(){return Promise.all([n.e(0),n.e(101)]).then(n.bind(null,258))}},props:{deliveryHeader:{orderButton:!1}}},{path:"/delivery/unavailable",components:{deliveryHeader:l,body:function(){return n.e(105).then(n.bind(null,284))}},props:{deliveryHeader:{orderButton:!1}}},{path:"/delivery/out-of-coverage",components:{deliveryHeader:l,body:function(){return n.e(103).then(n.bind(null,289))}},props:{deliveryHeader:{orderButton:!1}}},{path:"/delivery/check-location",components:{deliveryHeader:l,body:function(){return n.e(100).then(n.bind(null,314))}},props:{deliveryHeader:{orderButton:!1}}},{path:"/delivery/cash-change",components:{body:function(){return n.e(80).then(n.bind(null,331))}}},{path:"/self-collect/check-location",components:{selfcollectHeader:d,body:function(){return n.e(132).then(n.bind(null,281))}},props:{selfcollectHeader:{orderButton:!1}}},{path:"/self-collect/location-map",components:{selfcollectHeader:d,body:function(){return n.e(134).then(n.bind(null,311))}},props:{selfcollectHeader:{orderButton:!1}}},{path:"/self-collect/change-store",components:{selfcollectHeader:d,body:function(){return n.e(160).then(n.bind(null,310))}},props:{selfcollectHeader:{orderButton:!1}}},{path:"/self-collect/unavailable",components:{selfcollectHeader:d,body:function(){return n.e(136).then(n.bind(null,299))}},props:{selfcollectHeader:{orderButton:!1}}},{path:"/self-collect/eta",components:{selfcollectHeader:d,body:function(){return n.e(164).then(n.bind(null,308))}}},{path:"/self-collect/order-eta",components:{body:function(){return n.e(91).then(n.bind(null,323))}}},{path:"/self-collect/order-eta/date",components:{body:function(){return n.e(162).then(n.bind(null,307))}}},{path:"/self-collect/order-eta/time",components:{body:function(){return n.e(163).then(n.bind(null,306))}}},{path:"/self-collect/order-details",components:{body:function(){return n.e(166).then(n.bind(null,303))}}},{path:"/self-collect/advance-order",components:{selfcollectHeader:d,body:function(){return n.e(159).then(n.bind(null,301))}}},{path:"/support",components:{body:function(){return Promise.all([n.e(0),n.e(85)]).then(n.bind(null,321))}}},{path:"/find-a-kfc",components:{body:u}},{path:"/find-a-kfc/store/:location",components:{body:u},props:{body:!0}},{path:"/find-a-kfc/filter",components:{body:function(){return n.e(110).then(n.bind(null,334))}}},{path:"/faq",components:{body:function(){return n.e(109).then(n.bind(null,287))}}},{path:"/privacy-policy",components:{body:function(){return n.e(127).then(n.bind(null,338))}}},{path:"/terms-of-use",components:{body:function(){return n.e(137).then(n.bind(null,335))}}},{path:"/halal-policy",components:{body:function(){return n.e(112).then(n.bind(null,336))}}},{path:"/unsubscribe",components:{body:function(){return n.e(139).then(n.bind(null,277))}},props:{body:!0}},{path:"/content/terms-and-conditions/:namespace",components:{body:p},props:{body:!0}},{path:"/external/:namespace",components:{body:p},props:{body:!0}},{path:"/content/:namespace",components:{body:p},props:{body:!0}},{path:"/notifications",components:{body:function(){return n.e(86).then(n.bind(null,333))}}},{path:"/notification/:target/:id",components:{body:function(){return n.e(126).then(n.bind(null,273))}},props:{body:!0}},{path:"/update-app",components:{body:function(){return n.e(140).then(n.bind(null,271))}}},{path:"/maintenance-message",components:{body:function(){return n.e(115).then(n.bind(null,269))}}},{path:"/tutorial",components:{body:function(){return n.e(138).then(n.bind(null,265))}}},{path:"/promos",components:{body:function(){return n.e(128).then(n.bind(null,264))}}},{path:"/x/:data",components:{body:function(){return n.e(93).then(n.bind(null,263))}},props:{body:!0}},{path:"/qr-for-app-only",components:{body:function(){return n.e(129).then(n.bind(null,337))}}},{path:"/dota2klmajor",components:{body:function(){return n.e(107).then(n.bind(null,260))}}},{path:"/dota2klmajor/terms",components:{body:function(){return n.e(106).then(n.bind(null,261))}}},{path:"/tnc/klmajor",components:{body:function(){return n.e(113).then(n.bind(null,262))}}},{path:"/tnc/6pcnuggets",components:{body:function(){return n.e(92).then(n.bind(null,266))}}},{path:"/tnc/delvoucher",components:{body:function(){return n.e(114).then(n.bind(null,267))}}},{path:"/self-collect/order-method",components:{selfcollectHeader:d,body:function(){return n.e(131).then(n.bind(null,309))}}},{path:"/delivery/order-method",components:{deliveryHeader:l,body:function(){return n.e(99).then(n.bind(null,313))}}},{path:"/gmaps/delivery/deliveryZones",components:{body:function(){return n.e(0).then(n.bind(null,51))}}}]});f.afterEach((function(t,n){if(setTimeout((function(){window.$STORE.loadImages()}),100),"android"===e.env.BUILD_PLATFORM||"ios"===e.env.BUILD_PLATFORM){var r=t.path,o="";o="/"===r?"app_landing":"app"+r.replace(/\//g,"_"),window.$mobile("analyticsScreenView",o),window.$mobile("firebaseScreenView",o)}"android"===e.env.BUILD_PLATFORM&&(window.$FLOW.flow||["/promos","/dashboard","/delivery/menu","/self-collect/menu"].includes(t.path)||window.$androidRouteHistory.push(t.path),"/"===t.path&&(window.$androidRouteHistory=["/"]))})),t.a=f}).call(this,n(2))},function(e,t,n){"use strict";(function(e){var r=n(3),o=n.n(r),i=n(0);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function s(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){c(i,r,o,a,s,"next",e)}function s(e){c(i,r,o,a,s,"throw",e)}a(void 0)}))}}var d=window.$STORE=new i.a({data:{siteMaintenance:!1,siteMaintenanceMessage:"",siteMaintenanceIcon:"",showStoreSelector:!1,features:{scanQR:!1},deliveryCharge:4,mobileMenuShow:!1,fixedHeader:!1,isLoggedIn:!1,user:{},locateUsFilterList:{breakfast:"Breakfast",fullhours:"24 Hours",drivethru:"Drive Thru",delivery:"Delivery",selfcollect:"Self Collect"},locateUsFilter:[],loadedPlugins:{googlemaps:!1,gmapsjs:!1,facebook:!1,recaptcha:!1},promoBanners:[],addressList:[],methods:["delivery","self-collect"],deliveryMenuBanners:[],selfcollectMenuBanners:[],categoryName:{"for-one":"For One",sharing:"Sharing",deals:"Deals"},subCategoryName:{"for-one":{chicken:"Chicken Meals",burgers:"Burgers",sides:"Sides and Snacks",dessert:"Desserts",drinks:"Drinks"},sharing:{family:"Family Meals",sides:"Sides and Snacks",dessert:"Desserts",drinks:"Drinks"},deals:{deals:"Deals"}},selfcollectSubCategoryName:{"for-one":{box:"Box Meals",chicken:"Chicken Meals",burgers:"Burgers / Wraps",bowls:"Value Bowls",sides:"Sides and Snacks",dessert:"Desserts",drinks:"Drinks"},sharing:{family:"Family Meals",sides:"Sides and Snacks",dessert:"Desserts",drinks:"Drinks"},deals:{deals:"Deals"}},selfcollectSubCategoryNameDelco:{"for-one":{chicken:"Chicken Meals",burgers:"Burgers / Wraps",sides:"Sides and Snacks",dessert:"Desserts",drinks:"Drinks"},sharing:{family:"Family Meals",sides:"Sides and Snacks",dessert:"Desserts",drinks:"Drinks"},deals:{deals:"Deals"}},method:"delivery",category:"for-one",subCategory:"",subCategories:{},menu:[],excludedItems:[],cart:[],rewardCart:null,selfcollectMenu:null,selfcollectCart:[],selfcollectRewardCart:null,order:{firstname:"",lastname:"",email:"",phone:"",notes:""},delivery:{corporateId:0,addressId:0,storeId:0,estimatedtime:0,advancedate:null,latitude:"",longitude:"",unit:"",building:"",street:"",area:"",city:"",state:"",zip:"",os_streetname:"",locationGroup:"a",change:""},preselectedSelfcollectStore:{type:"normal",address:null,diff:0,distance:null,id:null,lat:null,lng:null,location:null,locationGroup:"a",name:null,osId:null,phone:null},selfcollect:{ordernow:!1,enableOrdernow:!0,allowAdvanceOrderDays:3,advancedate:null,location:null,rule:{start:null,end:null,eta:0,advanceStartTime:null,checkStoreParticipation:null,displayDate:null,isFrontendAdvance:null,maintenance:null,midnight:null,nextDay:null,orderNowTime:null,price:null,quoteTime:null},status:{advanceStartTime:null,eta:0,future:null,open:null},store:{type:"normal",address:null,diff:0,distance:null,id:null,lat:null,lng:null,location:null,locationGroup:"a",name:null,osId:null,phone:null}},deliveryStoreStatus:{availableDateStart:null,availableOrderDays:0,availableTimeEnd:null,availableTimeStart:null,eta:0,close:!1,busy:!1,repickEta:!1,rules:{quoteTime:!1,price:!1,maintenance:!1,advanceStartTime:null}},payment:{creditCardOrderId:null,creditCardStatusId:null},unreadMessageCount:0,messages:[],notification:null,externalComponent:null,initCartLength:0,initCartPrice:0,initSelfCollectCartLength:0,initSelfCollectCartPrice:0},computed:{deliveryRewardItemCount:function(){return!this.rewardCart||"item"!==this.rewardCart.reward.type&&"package"!==this.rewardCart.reward.type?0:1},deliveryRewardItemPrice:function(){return!this.rewardCart||"item"!==this.rewardCart.reward.type&&"package"!==this.rewardCart.reward.type?0:this.rewardCart.reward.item.price[this.delivery.locationGroup]},selfcollectRewardItemCount:function(){return!this.selfcollectRewardCart||"item"!==this.selfcollectRewardCart.reward.type&&"package"!==this.selfcollectRewardCart.reward.type?0:1},selfcollectRewardItemPrice:function(){var e=this;if(this.selfcollectRewardCart){var t=0,n=JSON.parse(this.selfcollectRewardCart.data);if("item"===this.selfcollectRewardCart.reward.type||"package"===this.selfcollectRewardCart.reward.type){if(n&&n.drinks&&n.drinks.length){var r=this.selfcollectRewardCart.menu.addons.find((function(e){return"drinks"===e.category})).items;n.drinks.map((function(n){t+=r.find((function(e){return e.id===n})).price[e.selfcollect.store.locationGroup]}))}return this.selfcollectRewardCart.menu.price[this.selfcollect.store.locationGroup]+t}}return 0},deliveryCartPrice:function(){var e=this;return this.menu.length?this.cart.reduce((function(t,n){return 57!==n.itemId&&(t+=e.getDeliveryItemDetails(n.itemId).price[e.delivery.locationGroup]),t}),0):0},selfcollectCartPrice:function(){var e=this;try{var t=0;return this.selfcollectCart.reduce((function(n,r){return 130!==r.itemId&&(n+=e.getSelfCollectItemDetails(r.itemId).price[e.selfcollect.store.locationGroup],r.drinks.map((function(n){t+=n.price[e.selfcollect.store.locationGroup]}))),n}),0)+t}catch(e){return 0}},cartSubtotal:function(){var e,t=this;return this.menu.length?(e=this.cart.reduce((function(e,n){return 57!==n.itemId&&(e+=t.getDeliveryItemDetails(n.itemId).price[t.delivery.locationGroup]),e}),0),this.rewardCart&&("item"!==this.rewardCart.reward.type&&"package"!==this.rewardCart.reward.type||(e+=this.getDeliveryItemDetails(this.rewardCart.reward.itemId).price[this.delivery.locationGroup])),e):0},deliveryCartCounter:function(){return this.cart.find((function(e){return 57===e.itemId}))?this.cart.length-1:this.cart.length},selfcollectCartCounter:function(){return this.selfcollectCart.find((function(e){return 130===e.itemId}))?this.selfcollectCart.length-1:this.selfcollectCart.length},selfcollectCartSubtotal:function(){var e=this;if(!this.selfcollectMenu)return 0;var t=0,n=this.selfcollectCart.reduce((function(n,r){return 130!==r.itemId&&(n+=e.getSelfCollectItemDetails(r.itemId).price[e.selfcollect.store.locationGroup],r.drinks.map((function(n){t+=n.price[e.selfcollect.store.locationGroup]}))),n}),0);return this.selfcollectRewardCart&&("item"!==this.selfcollectRewardCart.reward.type&&"package"!==this.selfcollectRewardCart.reward.type||(n+=this.selfcollectRewardItemPrice)),n+t<0?0:n+t},discount:function(){var e=this;if(!this.rewardCart)return 0;if("discountfixed"===this.rewardCart.reward.type)return this.rewardCart.reward.value;if("discountpercentage"===this.rewardCart.reward.type&&this.delivery.corporateId){var t=this.cart.reduce((function(t,n){return t+e.getDeliveryItemDetails(n.itemId).price[e.delivery.locationGroup]}),0);return this.rewardCart.reward.discountCap&&t*(this.rewardCart.reward.value/100)>=this.rewardCart.reward.discountCap?this.rewardCart.reward.discountCap:this.priceRound(t*(this.rewardCart.reward.value/100))}return 0},cartGrandtotal:function(){if(!this.cart.length&&!this.rewardCart||!this.menu.length)return 0;var e=this.deliveryCharge;return this.rewardCart&&"freedelivery"===this.rewardCart.reward.type&&(e=0),this.priceRound(this.cartSubtotal+e-this.discount)},deliveryAddHope:function(){return!!this.cart.find((function(e){return 57===e.itemId}))},selfcollectAddHope:function(){return!!this.selfcollectCart.find((function(e){return 130===e.itemId}))},selfcollectDiscount:function(){var e=this;if(!this.selfcollectRewardCart)return 0;if("discountfixed"===this.selfcollectRewardCart.reward.type)return this.selfcollectRewardCart.reward.value;if("discountpercentage"===this.selfcollectRewardCart.reward.type&&this.selfcollect.store.id){var t=0,n=this.selfcollectCart.reduce((function(n,r){return 130!==r.itemId&&(n+=e.getSelfCollectItemDetails(r.itemId).price[e.selfcollect.store.locationGroup],r.drinks.map((function(n){t+=n.price[e.selfcollect.store.locationGroup]}))),n}),0);return n+=t,this.selfcollectRewardCart.reward.discountCap&&n*(this.selfcollectRewardCart.reward.value/100)>=this.selfcollectRewardCart.reward.discountCap?this.selfcollectRewardCart.reward.discountCap:this.priceRound(n*(this.selfcollectRewardCart.reward.value/100))}return 0}},methods:{init:function(){var t=this;return l(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("android"===e.env.BUILD_PLATFORM||"ios"===e.env.BUILD_PLATFORM){n.next=16;break}return n.prev=1,n.next=4,window.$api.get("v2/env/maintenance");case 4:if(r=n.sent,t.siteMaintenance=r.webValue,!r.webValue){n.next=10;break}return t.siteMaintenanceMessage=r.webMessage,t.siteMaintenanceIcon=r.icon||"",n.abrupt("return");case 10:n.next=16;break;case 12:return n.prev=12,n.t0=n.catch(1),console.error(n.t0),n.abrupt("return");case 16:return window.$INITS={},window.$INITS.app=t.initUser(),n.next=20,window.$INITS.app;case 20:return window.$INITS.store=t.getDeliverySelectedStore().then((function(){return window.$INITS.cart})).then((function(){return t.getDeliveryETA()})),window.$INITS.ltdt=window.$apicache.get("v2/self-collect/cart/dealconversion").livefirst((function(e){e.totalConverted&&(e.isLunch&&window.$MODAL.show("message",{name:"lunch-promo",message:"Great news! Enjoy Lunch Treats Promo when you order from 12 to 3pm. The prices in your cart has been updated 😀",ok:function(){window.$APP.$router.push("/self-collect/cart")}}),e.isDinner&&window.$MODAL.show("message",{name:"dinner-promo",message:"Great news! Enjoy Dinner Treats Promo when you order from 6 to 9pm. The prices in your cart has been updated 😀",ok:function(){window.$APP.$router.push("/self-collect/cart")}}),e.isAfterLunch&&window.$MODAL.show("message",{name:"lunch-promo-end",message:"We’re sorry! Lunch Treats Hour has ended and its menu price in your cart has been updated.",ok:function(){window.$APP.$router.push("/self-collect/cart")}}),e.isAfterDinner&&window.$MODAL.show("message",{name:"dinner-promo-end",message:"We’re sorry! Dinner Treats Hour has ended and its menu price in your cart has been updated.",ok:function(){window.$APP.$router.push("/self-collect/cart")}}))})),n.next=24,window.$INITS.ltdt;case 24:case"end":return n.stop()}}),n,null,[[1,12]])})))()},initUser:function(){var e=this;return l(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,window.$apicache.get("v2/user").livefirst();case 2:return n=t.sent,d.user=n,n.isGuest||(d.isLoggedIn=!0),(r=n.selectedStores[1]).store&&(d.selfcollect=Object.assign(d.selfcollect,r)),d.initCartLength=n.cartdata.delivery.count,d.initCartPrice=n.cartdata.delivery.price,d.initSelfCollectCartLength=n.cartdata.selfcollect.count,d.initSelfCollectCartPrice=n.cartdata.selfcollect.price,e.unreadMessageCount=n.unreadMessageCount,e.features=n.features,t.abrupt("return",n);case 14:case"end":return t.stop()}}),t)})))()},loadImages:function(){s(document.querySelectorAll(".scroll-load")).map((function(e){(e.getBoundingClientRect().y||e.getBoundingClientRect().top)<window.innerHeight-50&&(e.classList.remove("scroll-load"),e.classList.add("scroll-loaded"))})),s(document.querySelectorAll("img[data-src]")).map((function(e){(e.getBoundingClientRect().y||e.getBoundingClientRect().top)<window.innerHeight-50&&(e.src=e.dataset.src,e.removeAttribute("data-src"))}))},invalidCategory:function(e){var t="";for(var n in this.categoryName)if(t||(t=n),e===n)return!1;return t},getMenuCategoryFullName:function(){return{"for-one":"Meals For One",sharing:"Meals For Sharing",deals:"Meals Hot Deals"}[this.category]},getDeliveryItemDetails:function(e){return this.menu.find((function(t){return t.id===e}))},getSelfCollectItemDetails:function(e){return this.selfcollectMenu.items.find((function(t){return t.id===e}))},logoutReset:function(){this.isLoggedIn=!1,this.user={},this.cart=[],this.selfcollectCart=[],this.rewardCart=null,this.selfcollectRewardCart=null,this.addressList=[],this.clearLocation()},loadPlugin:function(e){var t=this;return!1===this.loadedPlugins[e]&&(this.loadedPlugins[e]=new Promise(function(){var n=l(regeneratorRuntime.mark((function n(r,o){var i,a,s,c,l,d;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=setTimeout((function(){o(new Error("There was an error loading the plugin: ".concat(e)))}),1e4),"googlemaps"!==e){n.next=11;break}return a="gmapsinit"+Date.now().toString(),window[a]=function(){clearTimeout(i),r()},(s=document.createElement("script")).type="text/javascript",s.src="https://maps.googleapis.com/maps/api/js?libraries=places&callback=".concat(a,"&key=").concat("AIzaSyB83Jp1Zb4E9Ppbb7VNZNi2K_gC_2DsWPk"),s.async=!0,s.defer=!0,document.body.appendChild(s),n.abrupt("return");case 11:if("gmapsjs"!==e){n.next=24;break}return n.next=14,t.loadPlugin("googlemaps");case 14:return(c=document.createElement("script")).type="text/javascript",c.src="https://cdn.jsdelivr.net/npm/gmaps@0.4.24/gmaps.min.js",c.integrity="sha256-C3vPkcHJk9t5Pi6C+Nc+faqv/EZZqNBnxoDfTXEorQk=",c.crossOrigin="anonymous",c.async=!0,c.defer=!0,c.onload=r,document.body.appendChild(c),n.abrupt("return");case 24:"facebook"===e&&(window.fbAsyncInit=function(){window.FB.init({appId:"1061678997264701",cookie:!0,xfbml:!1,status:!0,version:"v2.8"}),r()},(l=document.createElement("script")).type="text/javascript",l.id="facebook-jssdk",l.src="//connect.facebook.net/en_US/sdk.js",l.async=!0,l.defer=!0,document.body.appendChild(l)),"recaptcha"===e&&(window.initRecaptcha=r,(d=document.createElement("script")).type="text/javascript",d.src="https://www.google.com/recaptcha/api.js?render=explicit&onload=initRecaptcha",d.async=!0,d.defer=!0,document.head.appendChild(d));case 26:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())),!0===this.loadedPlugins[e]?Promise.resolve():this.loadedPlugins[e]},registerExternalComponent:function(e,t){this.constructor.component(e,t),this.externalComponent=e},getDeliverySelectedStore:function(){var e=this;return l(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,window.$INITS.app.then((function(e){n=e.selectedStores[0]}));case 2:try{e.delivery.corporateId=n.corporateId,e.delivery.storeId=n.storeId,e.delivery.latitude=n.latitude,e.delivery.longitude=n.longitude,e.delivery.unit=n.unit,e.delivery.building=n.building,e.delivery.street=n.street,e.delivery.area=n.area,e.delivery.city=n.city,e.delivery.state=n.state,e.delivery.zip=n.zip,e.delivery.os_streetname=n.os_streetname,e.delivery.locationGroup=n.locationGroup||"a",e.delivery.advancedate=n.advancedate}catch(e){console.info(e.message)}case 3:case"end":return t.stop()}}),t)})))()},calculateDeliveryEta:function(){this.deliveryStoreStatus.rules.quoteTime&&(this.delivery.estimatedtime=this.deliveryStoreStatus.eta,this.deliveryStoreStatus.rules.price&&(this.cartGrandtotal>=250?this.delivery.estimatedtime=120:this.cartGrandtotal>=200?this.delivery.estimatedtime=90:this.cartGrandtotal>=150&&(this.delivery.estimatedtime=60)))},getDeliveryETA:function(){var e=this;return l(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.delivery.corporateId){t.next=15;break}return t.prev=1,t.next=4,window.$api.post("v2/delivery/store/checkEta",{corporateId:e.delivery.corporateId});case 4:return e.deliveryStoreStatus=t.sent,e.deliveryStoreStatus.repickEta&&(e.delivery.advancedate=null,setTimeout(l(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,window.$state.ready;case 2:e.$FLOW.start("checkEta"),e.$FLOW.env.address=Object.keys(e.$STORE.delivery).reduce((function(t,n){return t[n]=e.$STORE.delivery[n],t}),{}),e.$FLOW.next();case 5:case"end":return t.stop()}}),t)}))),1)),e.deliveryStoreStatus.repickEta||e.calculateDeliveryEta(),t.abrupt("return",e.deliveryStoreStatus);case 10:t.prev=10,t.t0=t.catch(1),console.error(t.t0);case 13:t.next=16;break;case 15:return t.abrupt("return",{});case 16:case"end":return t.stop()}}),t,null,[[1,10]])})))()},getSelfcollectInfo:function(){return window.$api.get("v2/self-collect/store/selected").then((function(e){e.store&&(d.selfcollect=Object.assign(d.selfcollect,e))}))},formatDeliveryAdvanceDate:function(){return o()(this.delivery.advancedate).format("YYYY-MM-DD, hh:mm a")},formatDeliveryAdvanceDateSplit:function(){return{isToday:o()(this.delivery.advancedate).format("YYYY-MM-DD")===o()().format("YYYY-MM-DD"),date:o()(this.delivery.advancedate).format("YYYY-MM-DD"),time:o()(this.delivery.advancedate).format("hh:mm a")}},formatSelfCollectOrderNowTime:function(){var e=o()(this.selfcollect.rule.orderNowTime,"HH:mm:ss");return this.selfcollect.rule.price&&(this.selfcollectCartSubtotal>250?e.add(60,"minute"):this.selfcollectCartSubtotal>150?e.add(45,"minute"):this.selfcollectCartSubtotal>50&&e.add(30,"minute")),e.format("hh:mm a")},formatSelfCollectAdvanceDate:function(){return o()(this.selfcollect.advancedate).format("YYYY-MM-DD, hh:mm a")},clearLocation:function(){this.clearDeliveryLocation(),this.clearSelfCollectLocation()},clearDeliveryLocation:function(){var e=this;Object.keys(this.delivery).map((function(t){e.delivery[t]=""})),this.delivery.corporateId=0,this.delivery.advancedate=null,this.delivery.addressId=0,this.delivery.locationGroup="a"},clearSelfCollectLocation:function(){var e=this;this.selfcollect.store&&(Object.keys(this.selfcollect.store).map((function(t){e.selfcollect.store[t]=null})),this.selfcollect.store.diff=-1,this.selfcollect.store.type="normal",this.selfcollect.store.locationGroup="a"),this.preselectedSelfcollectStore&&(Object.keys(this.preselectedSelfcollectStore).map((function(t){e.preselectedSelfcollectStore[t]=null})),this.preselectedSelfcollectStore.diff=-1,this.preselectedSelfcollectStore.type="normal",this.preselectedSelfcollectStore.locationGroup="a"),this.selfcollect.advancedate=null},clearDeliveryInitCartValue:function(){this.initCartLength=0,this.initCartPrice=0},clearSelfcollectInitCartValue:function(){this.initSelfCollectCartLength=0,this.initSelfCollectCartPrice=0},setCategoryName:function(e){var t="";return"for-one"===e?t="For One":"sharing"===e?t="Sharing":"deals"===e&&(t="Deals"),this.category=e,t},validPhone:function(e){return"0"===e[0]&&(!(e.length<10||e.length>11)&&null===/\D/.exec(e))},validEmail:function(e){return null!==/^[^@]+@[^@]+\.[^@]+$/g.exec(e)},validName:function(e){return null===/\d|[!@#$%^&*()]/g.exec(e)},sst:function(e){return"delivery"===this.method&&"c"===this.delivery.locationGroup?0:"self-collect"===this.method&&"c"===this.selfcollect.store.locationGroup?0:e/106*6},priceRound:function(e){var t=(Math.round(100*e)/100).toFixed(2),n=parseInt(t.split("").pop()),r=0;return 0!==n&&1!==n&&2!==n||(r=0-n),n>=3&&n<=7&&(r=5-n),8!==n&&9!==n||(r=10-n),parseFloat((parseFloat(t)+r/100).toFixed(2))},initDeliveryMenuItems:function(){var e=this;return l(regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.$STORE.menu.length){t.next=2;break}return t.abrupt("return");case 2:return n=e.delivery.corporateId||0,t.next=5,window.$api.get("v2/delivery/menu/store/"+n);case 5:for(r=t.sent,window.$STORE.menu=[],o=0;o<r.length;o++)"string"==typeof r[o].content&&(r[o].content=JSON.parse(r[o].content)),window.$STORE.menu.push(r[o]);case 8:case"end":return t.stop()}}),t)})))()},initMenu:function(){var e=this;return l(regeneratorRuntime.mark((function t(){var n,r,o,i,s,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.$STORE.menu.length){t.next=2;break}return t.abrupt("return");case 2:return n=e.delivery.corporateId||0,t.t0=Promise,t.next=6,window.$api.get("v2/delivery/menu/store/"+n);case 6:return t.t1=t.sent,t.next=9,window.$api.post("reward/getCart");case 9:return t.t2=t.sent,t.t3=[t.t1,t.t2],t.next=13,t.t0.all.call(t.t0,t.t3);case 13:for(r=t.sent,o=a(r,2),i=o[0],s=o[1],window.$STORE.menu=[],c=0;c<i.length;c++)"string"==typeof i[c].content&&(i[c].content=JSON.parse(i[c].content)),window.$STORE.menu.push(i[c]);window.$STORE.rewardCart=s;case 20:case"end":return t.stop()}}),t)})))()}}});Object.defineProperties(i.a.prototype,{$STORE:{get:function(){return d}}}),t.a=d}).call(this,n(2))},,function(e,t,n){"use strict";var r={name:"store-type-selection",data:function(){return{}},methods:{hide:function(){this.$emit("hideStoreSelector")},selected:function(e){this.$emit("selectStore",e)}}},o=(n(99),n(1)),i=Object(o.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal",attrs:{id:"store-type-selection"}},[n("div",{staticClass:"overlay",on:{click:e.hide}}),n("div",{staticClass:"modal-content-box"},[n("h2",[e._v("Choose your ordering method")]),n("button",{staticClass:"button",on:{click:function(t){return e.selected("delivery")}}},[n("span",[e._v("Delivery")])]),n("button",{staticClass:"button",on:{click:function(t){return e.selected("self-collect")}}},[n("span",[e._v("Self Collect")])]),n("button",{staticClass:"white-button",on:{click:e.hide}},[n("span",[e._v("Cancel")])])])])}),[],!1,null,"5cb6cc99",null);t.a=i.exports},function(e,t,n){"use strict";var r=n(21).a,o=(n(101),n(1)),i=Object(o.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],attrs:{id:"homepage"}},[n("div",{staticClass:"big-banner-container scroll-load"},[n("div",{staticClass:"order-method-selection"},[n("div",{staticClass:"heading container"},[n("h2",[e._v("Let's Start Ordering")]),"delivery"===e.status?n("p",[e._v("Share your location or Enter your street address.")]):e._e(),"self-collect"===e.status?n("p",[e._v("Share your location to find a KFC near you.")]):e._e()]),n("ul",{staticClass:"status"},[n("li",{class:{selected:"delivery"===e.status},attrs:{"gtm-label":"landing.delivery-tab"},on:{click:function(t){return e.changeOrderType("delivery")}}},[n("span",{attrs:{"gtm-label":"landing.delivery-tab"}},[e._v("Delivery")])]),n("li",{class:{selected:"self-collect"===e.status},attrs:{"gtm-label":"landing.selfcollect-tab"},on:{click:function(t){return e.changeOrderType("self-collect")}}},[n("span",{attrs:{"gtm-label":"landing.selfcollect-tab"}},[e._v("Self Collect")])])]),n("div",{directives:[{name:"show",rawName:"v-show",value:"delivery"===e.status,expression:"status === 'delivery'"}],staticClass:"check-location-box check-location-box-landing"},[n("index-delivery-check-location")],1),n("div",{directives:[{name:"show",rawName:"v-show",value:"self-collect"===e.status,expression:"status === 'self-collect'"}],staticClass:"check-location-box check-location-box-landing"},[n("index-selfcollect-check-location")],1)])]),n("ul",{staticClass:"small-banner"},e._l(e.banners.slice(0,3),(function(t,r){return n("li",{key:r},[t.link&&t.link.includes("http")&&!t.meta?n("a",{attrs:{href:t.link,target:"_blank"}},[n("img",{attrs:{src:"https://cdn.kfc.com.my/images/landing/"+t.image,"gtm-label":"landing.small-banner."+t.slug}})]):n("img",{attrs:{src:"https://cdn.kfc.com.my/images/landing/"+t.image,"gtm-label":"landing.small-banner."+t.slug},on:{click:function(n){return e.landingBannerNavigation(t)}}})])})),0),n("store-type-selection",{directives:[{name:"show",rawName:"v-show",value:e.displayStoreSelector||e.$STORE.showStoreSelector,expression:"displayStoreSelector || $STORE.showStoreSelector"}],on:{hideStoreSelector:e.hide,selectStore:e.navigate}})],1)}),[],!1,null,"56c47529",null);t.a=i.exports},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t),function(e){var t=n(0),r=n(30),o=(n(4),n(91),n(92),n(93),n(94),n(60)),i=n(61),a=n(64);function s(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){s(i,r,o,a,c,"next",e)}function c(e){s(i,r,o,a,c,"throw",e)}a(void 0)}))}}t.a.use(r.a),c(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.env.DEBUG_BUILD_PLATFORM){n.next=3;break}return n.next=3,window.$api.post("v2/app/device",{model:"debug_".concat(e.env.BUILD_PLATFORM),version:"debug_".concat(e.env.BUILD_PLATFORM),device:e.env.BUILD_PLATFORM,deviceId:window.localStorage.getItem("debug:DEBUG_PLATFORM_IDENTIFIER")});case 3:if("android"!==e.env.BUILD_PLATFORM){n.next=15;break}return n.prev=4,n.next=7,window.$androidCheckPermission("android.permission.WRITE_EXTERNAL_STORAGE");case 7:if(n.sent){n.next=10;break}throw new Error("Permission not allowed.");case 10:n.next=15;break;case 12:n.prev=12,n.t0=n.catch(4),window.$cache.enabled=!1;case 15:return n.next=17,i.a.init();case 17:window.$WAIT=new t.a({el:"#modal-wait",data:{visible:!1,message:"",action:"",timeout:null},methods:{show:function(e,t,n){var r=this;e?n?(clearTimeout(this.timeout),this.action=n,this.message=e,this.visible=!0,this.timeout=setTimeout((function(){window.$FLOW.flow&&r.cancel(),window.$LOADERERROR.show(t)}),3e4)):console.error("No action is defined."):console.error("No message defined.")},hide:function(){clearTimeout(this.timeout),this.action="",this.message="",this.visible=!1},cancel:function(){clearTimeout(this.timeout),this.action="",this.message="",this.visible=!1,window.$FLOW.cancel()}}}),window.$LOADER=new t.a({el:"#modal-loading",data:{visible:!1,timeout:null},methods:{show:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e4;clearTimeout(this.timeout),this.visible=!0,-1!==t&&(this.timeout=setTimeout((function(){e.hide(),window.$LOADERERROR.show()}),t))},hide:function(){clearTimeout(this.timeout),this.visible=!1}}}),window.$PAYMENTLOADER=new t.a({el:"#modal-payment-loader",data:{visible:!1},methods:{show:function(){this.visible=!0},hide:function(){this.visible=!1}}}),window.$LOADERERROR=new t.a({el:"#modal-loading-error",data:{visible:!1,message:"Sorry to keep you waiting. <br>Please tap the button to retry."},methods:{show:function(e){this.visible=!0,this.message="Sorry to keep you waiting. <br>Please tap the button to retry.","location"===e&&(this.message="Unable to locate your current location. Please check your location settings and try again.")},hide:function(){this.visible=!1},close:function(){this.visible=!1}}}),window.$MAINTENANCEMESSAGE=new t.a({el:"#pre-maintenance-message",name:"pre-maintenance-message",data:{timeout:null,visible:!1,message:""},created:function(){var e=this;return c(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.$STORE.siteMaintenance){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,window.$api.get("v2/env/premaintenance");case 4:(n=t.sent).enable&&(e.message=n.message,e.show());case 6:case"end":return t.stop()}}),t)})))()},methods:{show:function(){var e=this;this.visible=!0,this.timeout=setTimeout((function(){return e.hide()}),5e3)},hide:function(){clearTimeout(this.timeout),this.visible=!1}}}),r=window.$APP=new t.a({el:"#app",router:o.a,components:{index:a.a,dynamicmenu:{name:"sidebarmenu",functional:!0,props:["template"],render:function(e,t){var n=t.props.template;return e(n?{template:n}:"Loading",{on:t.listeners})}}},data:{sidebarmenu:"<div></div>",footerTnc:!1,footerServices:!1,footerAboutus:!1,footerFood:!1,footerContact:!1,subscribed:!1,subscribeEmail:"",showSmartBanner:!1},created:function(){if(!window.sessionStorage.getItem("smartbanner")){var e=navigator.appVersion||navigator.userAgent||window.opera;-1!==e.indexOf("Android")&&(this.showSmartBanner=!0,window.sessionStorage.setItem("smartbanner","Android")),-1!==e.indexOf("iPhone")&&(this.showSmartBanner=!0,window.sessionStorage.setItem("smartbanner","iPhone")),-1!==e.indexOf("iPad")&&(this.showSmartBanner=!0,window.sessionStorage.setItem("smartbanner","iPad")),"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1&&(this.showSmartBanner=!0,window.sessionStorage.setItem("smartbanner","iPad")),-1!==e.indexOf("iPod")&&(this.showSmartBanner=!0,window.sessionStorage.setItem("smartbanner","iPod"))}return this.init()},mounted:function(){var t=this;return c(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("android"!==e.env.BUILD_PLATFORM&&"ios"!==e.env.BUILD_PLATFORM){n.next=14;break}return document.addEventListener("click",(function(e){var t=e.target.getAttribute("gtm-label"),n={category:"v2",action:"click",label:t};t&&(window.$mobile("analyticsEventLog",n),window.$mobile("firebaseEventLog",{event:"select_content",params:{content_type:"v2",item_id:t}}))})),n.prev=2,n.next=5,window.$api.get("v2/mobile/sidebar");case 5:r=n.sent,t.sidebarmenu=r.html,n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),console.error(n.t0);case 12:n.next=18;break;case 14:if(!(o=new URLSearchParams(window.location.search)).has("identifier")){n.next=18;break}return n.next=18,window.$api.post("v2/ad/events/".concat(o.get("identifier")));case 18:case"end":return n.stop()}}),n,null,[[2,9]])})))()},methods:{hideSmartBanner:function(){this.showSmartBanner=!1},executeMethod:function(e,t){this[e](t)},init:function(){var t=this;return c(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!window.$STORE.siteMaintenance){n.next=3;break}return t.$router.push("/maintenance-message"),n.abrupt("return");case 3:if("ios"!==e.env.BUILD_PLATFORM&&"android"!==e.env.BUILD_PLATFORM){n.next=24;break}return n.next=6,window.$api.get("v2/env/requiresupdate/".concat(e.env.BUILD_PLATFORM,"/").concat("2.5.21"));case 6:if(r=n.sent,o=r.update,window.initial.classList.add("hide"),!o){n.next=11;break}return n.abrupt("return",t.$router.push("/update-app"));case 11:return n.next=13,window.$cache.get("tutorialShown");case 13:if(n.sent){n.next=18;break}return t.$router.push("/tutorial"),window.$state&&window.$state.isReady(),n.abrupt("return");case 18:return n.next=20,window.$api.get("v2/app/promo");case 20:return window.$STORE.promoBanners=n.sent,window.$STORE.promoBanners&&window.$STORE.promoBanners.length&&t.$router.push("/promos"),window.$state&&window.$state.isReady(),n.abrupt("return");case 24:window.$state&&window.$state.isReady();case 25:case"end":return n.stop()}}),n)})))()},gotoMenu:function(e,t){"deals"===t&&(t="deals/deals"),this.$STORE.mobileMenuShow=!1,this.$router.push("/".concat(e,"/menu/").concat(t))},sidenavGoto:function(e){this.$STORE.mobileMenuShow=!1,this.$router.push(e)},subscribe:function(){this.subscribeEmail&&(window.$api.post("user/subscribe",{email:this.subscribeEmail}),this.subscribed=!0)},scanQR:function(){window.$scanQR()}}}),Object.defineProperties(t.a.prototype,{$APP:{get:function(){return r}}});case 24:case"end":return n.stop()}}),n,null,[[4,12]])})))()}.call(this,n(2))},function(e,t,n){"use strict";(function(e){var t=n(5);function r(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function s(e){r(a,o,i,s,c,"next",e)}function c(e){r(a,o,i,s,c,"throw",e)}s(void 0)}))}}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}window.$cache=function(e,t){return void 0===t?window.$cache.get(e):window.$cache.set(e,t)},window.$cache.enabled=!0,window.$cache.get=function(n){return window.$cache.enabled?t.a[e.env.BUILD_PLATFORM||"web"].$cache.get(n):null},window.$cache.set=function(n,r){return window.$cache.enabled?t.a[e.env.BUILD_PLATFORM||"web"].$cache.set(n,r):null},window.$cache.getIdentifier=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map((function(e){return"object"===i(e)?JSON.stringify(e):e||"{}"})).join(":")},window.$apicache=function(e,t,n){var r,i=n&&n.method||"GET",a=function(){var r=o(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,window.$api(e,t,n);case 2:return o=r.sent,r.next=5,window.$cache(window.$cache.getIdentifier(i,e,t),o);case 5:return r.abrupt("return",o);case 6:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),s=new Promise(function(){var n=o(regeneratorRuntime.mark((function n(o,c){var l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,window.$cache(window.$cache.getIdentifier(i,e,t));case 2:if(l=n.sent){n.next=14;break}return r=a(),n.prev=5,n.next=8,r;case 8:l=n.sent,n.next=14;break;case 11:return n.prev=11,n.t0=n.catch(5),n.abrupt("return",c(n.t0));case 14:o(l),setTimeout((function(){s.live()}),1e3);case 16:case"end":return n.stop()}}),n,null,[[5,11]])})));return function(e,t){return n.apply(this,arguments)}}());return s.live=function(){return r||(r=a()),r},s.live.then=function(){return s.live()},s.cachefirst=function(){var e=o(regeneratorRuntime.mark((function e(t){var n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t||function(){},e.next=3,s;case 3:return i=e.sent,e.next=6,n(i);case 6:return r||setTimeout(o(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.live();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])}))),100),e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.livefirst=function(){var e=o(regeneratorRuntime.mark((function e(t){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t||function(){},e.next=3,s;case 3:if(o=e.sent,r){e.next=14;break}return e.prev=5,e.next=8,s.live();case 8:o=e.sent,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),console.log(e.t0);case 14:return n(o),e.abrupt("return",o);case 16:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(t){return e.apply(this,arguments)}}(),s.both=function(){var e=o(regeneratorRuntime.mark((function e(t){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t||function(){},e.next=3,s;case 3:return o=e.sent,e.next=6,n(o);case 6:if(r){e.next=18;break}return e.prev=7,e.next=10,s.live();case 10:return o=e.sent,e.next=13,n(o);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(7),console.log(e.t0);case 18:return e.abrupt("return",o);case 19:case"end":return e.stop()}}),e,null,[[7,15]])})));return function(t){return e.apply(this,arguments)}}(),s},window.$apicache.get=function(e,t,n){return t&&"[object Object]"===Object.prototype.toString.call(t)&&(e+="?",e+=Object.keys(t).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&")),window.$apicache(e,{},n)},window.$apicache.post=function(e,t,n){return window.$apicache(e,t,Object.assign(n||{},{method:"POST"}))},window.$apicache.put=function(e,t,n){return window.$apicache(e,t,Object.assign(n||{},{method:"PUT"}))},window.$apicache.del=function(e,t,n){return window.$apicache(e,t,Object.assign(n||{},{method:"DELETE"}))},window.$apicache.delete=function(e,t,n){return window.$apicache(e,t,Object.assign(n||{},{method:"DELETE"}))}}).call(this,n(2))},function(e,t,n){"use strict";(function(e){var t=n(5);function r(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function s(e){r(a,o,i,s,c,"next",e)}function c(e){r(a,o,i,s,c,"throw",e)}s(void 0)}))}}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var a=window.$mobileTickets={};window.$isApp="ios"===e.env.BUILD_PLATFORM||"android"===e.env.BUILD_PLATFORM,window.$appPlatform=window.$isApp?e.env.BUILD_PLATFORM:"web";var s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={id:"req.".concat(Date.now().toString(16)).concat(Math.random().toString(16)),namespace:e,data:t,resolve:null,reject:null};return a[n.id]=n,n};window.$mobileCallback=function(e){if("object"===i(e)&&a[e.id||e.ticket])return e.error?a[e.id||e.ticket].reject(e.error):a[e.id||e.ticket].resolve(e.data)},window.$mobile=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=s(n,r);return new Promise((function(i,a){o.resolve=i,o.reject=a,t.a[e.env.BUILD_PLATFORM].$mobile(n,o,r)}))},window.$openPage=function(n){return t.a[e.env.BUILD_PLATFORM].$openPage(n)},window.$scanQR=function(){return t.a[e.env.BUILD_PLATFORM].$scanQR()},window.$androidCheckPermission=function(e){var t=s(),n=t.id;return t.id="req.android.".concat(e),a[t.id]=a[n],new Promise((function(n,r){t.resolve=n,t.reject=r,window.Android.checknativepermission(e)}))},window.$androidRespondPermission=function(e,t,n){var r=a["req.android.".concat(t)];if(r)return e?r.reject(new Error(e)):void r.resolve(n)},window.$resolvePayment=function(e){var t=e.orderId,n=e.statusId,r=e.eventName;window.$STORE.payment.creditCardOrderId=t,window.$STORE.payment.creditCardStatusId=n,window.$STORE.$emit(r)},window.$qrCallback=function(){var e=o(regeneratorRuntime.mark((function e(t){var n,r,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.replace(/^http.*?\/x\//,""),e.prev=1,"{"===(r=window.atob(n))[0]||"["===r[0]){e.next=5;break}throw new Error("Decoded string is not JSON.");case 5:e.next=23;break;case 7:return e.prev=7,e.t0=e.catch(1),console.error(e.t0),e.prev=10,e.next=13,window.$api.get("v2/action/"+n);case 13:if("app"!==(o=e.sent).channel||window.$isApp){e.next=16;break}return e.abrupt("return",window.$APP.$router.push("/qr-for-app-only?x="+n));case 16:r=o.data,e.next=23;break;case 19:e.prev=19,e.t1=e.catch(10),console.log(e.t1),window.$isApp||window.$APP.$router.push("/");case 23:if(e.prev=23,i=JSON.parse(r)){e.next=27;break}throw new Error("No JSON data.");case 27:return window.$isApp&&(window.$STORE.mobileMenuShow=!1),e.next=30,window.$action(i);case 30:!window.$isApp&&window.$FLOW.flow&&(window.$FLOW.source="/"),e.next=37;break;case 33:e.prev=33,e.t2=e.catch(23),console.error(e.t2),window.$isApp||window.$APP.$router.push("/");case 37:case"end":return e.stop()}}),e,null,[[1,7],[10,19],[23,33]])})));return function(t){return e.apply(this,arguments)}}(),window.$mobileResume=o(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,window.$STORE.init();case 2:return t.next=4,window.$api.get("v2/env/requiresupdate/".concat(e.env.BUILD_PLATFORM,"/").concat("2.5.21"));case 4:if(n=t.sent,!n.update){t.next=8;break}return t.abrupt("return",window.$APP.$router.push("/update-app"));case 8:case"end":return t.stop()}}),t)}))),window.$androidRouteHistory=[],window.$onBackPressed=function(){if(!window.$STORE.mobileMenuShow)return"/update-app"===window.$APP.$route.path?window.Android.onBackPressedResponse("quit"):"/"===window.$APP.$route.path?window.Android.onBackPressedResponse("quit"):window.$FLOW.flow?window.$FLOW.end():(window.$androidRouteHistory[window.$androidRouteHistory.length-1]===window.$APP.$route.path&&window.$androidRouteHistory.pop(),window.$androidRouteHistory.length?window.$APP.$router.push(window.$androidRouteHistory.pop()):window.$APP.$router.push("/"));window.$STORE.mobileMenuShow=!1}}).call(this,n(2))},function(e,t,n){"use strict";(function(e){var t=n(0),r=n(59),o=n(14);function i(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=window.$flowrules=r.a;"ios"!==e.env.BUILD_PLATFORM&&"android"!==e.env.BUILD_PLATFORM||window.$apicache.get("v2/flow").livefirst().then((function(e){c=window.$flowrules=e}));var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.flow=t,this.rules=e.rules[t],this.currentStep="",this.subflow=void 0,this.source=void 0,this.target=void 0,this.env={}}var t,n,r;return t=e,(n=[{key:"getCurrentStepIndex",value:function(){var e=this;return this.rules.findIndex((function(t){return t===e.currentStep}))}},{key:"getCurrentStepType",value:function(){return this.currentStep.split(":")[0]}},{key:"getFullCurrentStep",value:function(){var e=this.currentStep;return"flow"===this.getCurrentStepType()&&(e+=" / "+this.subflow.getFullCurrentStep()),e}},{key:"start",value:function(e){this.backup={flow:this.flow,source:this.source,target:this.target,env:this.env,rules:this.rules,currentStep:this.currentStep,subflow:this.subflow},this.flow=e,this.source=window.$APP.$route,this.env={},this.rules=["flow:"+e],this.currentStep="",this.subflow=void 0}},{key:"next",value:function(t){if("flow"===this.getCurrentStepType()&&!this.subflow.isEnd())return this.subflow.next();var n=this.rules[this.getCurrentStepIndex()+1];if(!n)return this.isParent?(this.end(),!1):!this.isEnd();var r=a(n.split(":"),2),i=r[0],s=r[1];if(this.currentStep=n,"route"===i){var c=s;s.indexOf("{{")>=0&&s.indexOf("}}")>=0&&Object.keys(window.$FLOW.env).map((function(e){c=c.replace(new RegExp("{{"+e+"}}","ig"),window.$FLOW.env[e])})),t?t(c):window.$APP.$router.replace(c)}return"modal"===i&&window.$MODAL.show(s),"method"===i&&"function"==typeof o.a[s]&&o.a[s](this.currentStep),"flow"===i&&(this.subflow=new e(s),this.subflow.next()),!0}},{key:"prev",value:function(t){if("flow"===this.getCurrentStepType()){if(!this.subflow.isSubflowStart())return this.subflow.prev();this.subflow.prev()}var n=this.getCurrentStepIndex()-1;if(-1===n)return!1;-2===n&&(n=this.rules.length-1);var r=this.rules[n];if(!r)return this.cancel(),!1;var i=a(r.split(":"),2),s=i[0],c=i[1];return this.currentStep=r,"route"===s&&(t?t(c):window.$APP.$router.replace(c)),"modal"===s&&window.$MODAL.show(c),"method"===s&&"function"==typeof o.a[c]&&o.a[c](this.currentStep),"flow"===s&&(this.subflow=new e(c),this.subflow.prev()),!0}},{key:"isSubflowStart",value:function(){return"flow"===this.getCurrentStepType()?0===this.subflow.getCurrentStepIndex():0===this.getCurrentStepIndex()}},{key:"isEnd",value:function(){return!("flow"===this.getCurrentStepType()&&!this.subflow.isEnd())&&this.getCurrentStepIndex()===this.rules.length-1}},{key:"end",value:function(e){if(e&&"function"==typeof e)e(this.target||this.source||"/");else if("string"==typeof e)window.$APP.$router.replace(e);else if(window.$APP.$router.replace(this.target||this.source||"/"),this.backup)return this.flow=this.backup.flow,this.source=this.backup.source,this.target=this.backup.target,this.env=this.backup.env,this.rules=this.backup.rules,this.currentStep=this.backup.currentStep,this.subflow=this.backup.subflow,void(this.backup=null);this.flow=void 0,this.rules=[],this.currentStep="",this.subflow=void 0,this.source=void 0,this.target=void 0,this.env={},this.backup=null}},{key:"cancel",value:function(e){if(e&&"function"==typeof e)e(this.source||"/");else if("string"==typeof e)window.$APP.$router.replace(e);else if(window.$APP.$router.replace(this.source||"/"),this.backup)return this.flow=this.backup.flow,this.source=this.backup.source,this.target=this.backup.target,this.env=this.backup.env,this.rules=this.backup.rules,this.currentStep=this.backup.currentStep,this.subflow=this.backup.subflow,void(this.backup=null);this.flow=void 0,this.rules=[],this.currentStep="",this.subflow=void 0,this.source=void 0,this.target=void 0,this.env={},this.backup=null}},{key:"clearEnv",value:function(){this.env={}}},{key:"flattenRules",value:function(t){var n=this,r=[];return e.rules[t].map((function(e){var t=a(e.split(":"),2),o=t[0],s=t[1];"flow"===o?r.push.apply(r,i(n.flattenRules(s))):r.push(e)})),r}},{key:"allSubflows",value:function(t){var n=this,r=["flow:"+t];return e.rules[t].map((function(e){var t=a(e.split(":"),2),o=t[0],s=t[1];"flow"===o&&r.push.apply(r,i(n.allSubflows(s)))})),r}},{key:"isInCurrentFlow",value:function(e){return!!this.flow&&this.allSubflows(this.flow).includes("flow:"+e)}}])&&s(t.prototype,n),r&&s(t,r),e}();l.rules=c;var d=window.$FLOW=new l;d.isParent=!0,Object.defineProperties(t.a.prototype,{$FLOW:{get:function(){return d}}})}).call(this,n(2))},function(e,t,n){"use strict";var r=n(0),o=window.$MODAL=new r.a({el:"#modals",name:"modals",components:{message:function(){return n.e(116).then(n.bind(null,268))},paymentUnsuccessful:function(){return n.e(119).then(n.bind(null,270))},selfcollectPaymentUnsuccessful:function(){return n.e(122).then(n.bind(null,272))},minimumOrder:function(){return n.e(154).then(n.bind(null,247))},selfcollectMinimumOrder:function(){return n.e(157).then(n.bind(null,274))},deliveryTimeWarning:function(){return n.e(153).then(n.bind(null,275))},selfcollectTimeWarning:function(){return n.e(158).then(n.bind(null,276))},paymentError:function(){return n.e(156).then(n.bind(null,278))},paymentBelow300:function(){return n.e(155).then(n.bind(null,280))},paymentCCDisabled:function(){return n.e(118).then(n.bind(null,282))},storeClosedAfter1030:function(){return n.e(125).then(n.bind(null,283))},orderError:function(){return n.e(117).then(n.bind(null,285))},registerTnc:function(){return n.e(121).then(n.bind(null,286))},dota2Registration:function(){return n.e(78).then(n.bind(null,288))},siteTakeover:function(){return n.e(124).then(n.bind(null,290))},singleButtonModal:function(){return n.e(123).then(n.bind(null,291))},promotional:function(){return n.e(120).then(n.bind(null,292))}},data:{modal:"",data:{},scrollposition:0},methods:{show:function(e,t){this.modal=e,t&&"dota2-registration-form"===t.name&&(this.scrollposition=document.body.scrollTop,document.body.style.top=-this.scrollposition+"px",document.body.classList.add("no-scroll")),this.data=t},hide:function(){this.modal="",document.body.classList.contains("no-scroll")&&(document.body.classList.remove("no-scroll"),window.scrollTo({top:this.scrollposition}))}}});Object.defineProperties(r.a.prototype,{$MODAL:{get:function(){return o}}})},function(e,t,n){"use strict";var r=n(23);n.n(r).a},function(e,t,n){(t=n(9)(!1)).push([e.i,".other.signin[data-v-110afad0]{text-transform:initial}\n",""]),e.exports=t},function(e,t,n){"use strict";var r=n(25);n.n(r).a},function(e,t,n){(t=n(9)(!1)).push([e.i,".text-center[data-v-b1f712ea]{text-align:center}\n",""]),e.exports=t},function(e,t,n){"use strict";var r=n(26);n.n(r).a},function(e,t,n){(t=n(9)(!1)).push([e.i,"#store-type-selection h2[data-v-5cb6cc99]{margin-bottom:20px;text-align:center}#store-type-selection .modal-content-box[data-v-5cb6cc99]{max-width:450px;z-index:20;padding:15px}#store-type-selection button[data-v-5cb6cc99]{margin-bottom:20px}\n",""]),e.exports=t},function(e,t,n){"use strict";var r=n(27);n.n(r).a},function(e,t,n){(t=n(9)(!1)).push([e.i,'@media screen and (max-width: 749px){.desktop[data-v-56c47529]{display:none !important}}@media screen and (min-width: 750px){.mobile[data-v-56c47529]{display:none !important}}@media screen and (min-width: 750px){.big-banner-container[data-v-56c47529]{background-color:#F5E3CC;padding:50px 20px;background-size:100% auto;border-radius:5px;-webkit-box-shadow:0 6px 20px 0 rgba(0,0,0,0.19);box-shadow:0 6px 20px 0 rgba(0,0,0,0.19)}}@media screen and (min-width: 750px){.big-banner-container.scroll-loaded[data-v-56c47529]{background-image:url("https://cdn.kfc.com.my/images/general/homepage-banners-start-long.jpg")}}.heading[data-v-56c47529]{text-align:center;margin:0 0 20px}@media screen and (min-width: 750px){.heading[data-v-56c47529]{color:#fff}}.order-method-selection[data-v-56c47529]{width:100%;max-width:450px;margin:0 auto}ul.status[data-v-56c47529]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:100%;text-align:center;text-transform:uppercase;font-weight:bold;font-size:30px;font-family:"Bebasneue",Arial;position:relative}ul.status li[data-v-56c47529]{width:50%;cursor:pointer;background-color:#CBC4BC;-webkit-transform-origin:bottom;transform-origin:bottom;padding:10px 0;color:#f0f0f0;position:relative;border-top-left-radius:5px;border-top-right-radius:5px}ul.status li.selected[data-v-56c47529]{background-color:#fff;color:#2D2926}ul.status li.selected[data-v-56c47529]::before{content:\'\';display:block;height:100%;width:100%;position:absolute;background-color:#fff;-webkit-transform:translateY(-40%);transform:translateY(-40%);border-top-left-radius:5px;border-top-right-radius:5px}ul.status li.selected span[data-v-56c47529]{position:relative}.small-banner[data-v-56c47529]{margin:10px 0}@media screen and (min-width: 750px){.small-banner[data-v-56c47529]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between}}.small-banner li[data-v-56c47529]{cursor:pointer}.small-banner li[data-v-56c47529]:nth-child(2){margin:0 10px}@media screen and (max-width: 749px){.small-banner li[data-v-56c47529]{margin:10px}}.small-banner li img[data-v-56c47529]{width:100%;border-radius:5px;-webkit-box-shadow:0 6px 20px 0 rgba(0,0,0,0.19);box-shadow:0 6px 20px 0 rgba(0,0,0,0.19)}\n',""]),e.exports=t}]);