(window.webpack1585698655660=window.webpack1585698655660||[]).push([[141],{325:function(e,t,r){"use strict";r.r(t);var n=r(367).a,i=r(1),a=Object(i.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"menu-page page-container",attrs:{id:"menu-items"}},[r("menu-banner",{on:{ordernow:e.orderNow}}),r("div",{staticClass:"menu-items"},[r("div",{staticClass:"page-content clearfloat sections"},[r("div",{staticClass:"side-nav"},[r("side-nav",{attrs:{categories:e.categories}})],1),r("div",{staticClass:"list"},[r("h3",[e._v(e._s(e.title))]),r("div",{staticClass:"boxes flex-start"},e._l(e.items,(function(t,n){return r("div",{key:n,staticClass:"white-box",class:{isnew:t.isnew},attrs:{"gtm-label":"delivery.menu-items."+t.slug},on:{click:function(r){return e.selectItem(t,n)}}},[r("div",{staticClass:"image"},[r("img",{attrs:{src:"https://cdn.kfc.com.my/images/menu/delivery/"+t.image}})]),r("div",{staticClass:"details"},[r("strong",[e._v(e._s(t.name))]),r("strong",[e._v("RM "+e._s(t.price[e.$STORE.delivery.locationGroup].toFixed(2)))]),t.content&&t.content.length>1?r("p",[e._v(e._s(t.description))]):e._e()])])})),0)])])])],1)}),[],!1,null,null,null);t.default=a.exports},367:function(e,t,r){"use strict";(function(e){var n=r(241),i=r(239);function a(e,t,r,n,i,a,o){try{var s=e[a](o),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function o(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function s(e){a(o,n,i,s,c,"next",e)}function c(e){a(o,n,i,s,c,"throw",e)}s(void 0)}))}}t.a={name:"menu-subcategory",components:{menuBanner:n.a,sideNav:i.a},data:function(){return{title:"",categories:[],subCategory:"",items:[],selectedItem:{}}},watch:{$route:function(e,t){this.init()}},mounted:function(){var t=this;return o(regeneratorRuntime.mark((function r(){var n,i,a,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.init();case 2:for(n=[],i=0;i<t.items.length;i++)n.push({id:t.items[i].id,name:t.items[i].name,price:t.items[i].price[window.$STORE.delivery.locationGroup],brand:"KFC Delivery",category:t.items[i].tags,list:t.$route.params.category+"/"+t.$route.params.subcategory,position:i+1});"android"===e.env.BUILD_PLATFORM||"ios"===e.env.BUILD_PLATFORM?(a=t.$APP.$route.path,o="app"+a.replace(/\//g,"_"),window.$mobile("analyticsEcommerce",{screenName:o,event:"delivery_product_impressions",currencyCode:"MYR",products:n,productAction:{action:"click"}})):window.dataLayer.push({event:"delivery/productImpressions",ecommerce:{currencyCode:"MYR",impressions:n}});case 5:case"end":return r.stop()}}),r)})))()},methods:{init:function(){var e=this;return o(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(window.$STORE.method=window.$STORE.methods[0],r=window.$STORE.invalidCategory(e.$route.params.category),e.$route.params.category&&!r){t.next=5;break}return e.$router.push("/"+window.$STORE.method+"/menu/"+r),t.abrupt("return");case 5:return window.$STORE.category=e.$route.params.category,t.next=8,window.$STORE.initMenu();case 8:if(window.$STORE.subCategory=e.$route.params.subcategory,window.$STORE.subCategories[e.$route.params.category]){t.next=15;break}return t.next=12,window.$api.get("v2/delivery/menu/subcategory/".concat(e.$route.params.category));case 12:n=t.sent,window.$STORE.subCategories[e.$route.params.category]=[],window.$STORE.subCategories[e.$route.params.category]=n;case 15:return e.categories=window.$STORE.subCategories[e.$route.params.category],e.title=window.$STORE.subCategories[e.$route.params.category].find((function(t){return t.slug===e.$route.params.subcategory})).display,t.next=19,e.updateMenu();case 19:case"end":return t.stop()}}),t)})))()},updateMenu:function(){var e=this;return o(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=window.$STORE.subCategories[e.$route.params.category].find((function(t){return t.slug===e.$route.params.subcategory})).itemIds,e.items=[],r.map((function(t){var r=window.$STORE.menu.find((function(e){return e.id===t}));r&&e.items.push(r)}));case 3:case"end":return t.stop()}}),t)})))()},orderNow:function(e){e&&(window.$FLOW.start("addToCart"),window.$FLOW.env.slug=e,window.$FLOW.next())},selectItem:function(t,r){if("android"===e.env.BUILD_PLATFORM||"ios"===e.env.BUILD_PLATFORM){var n="app"+this.$APP.$route.path.replace(/\//g,"_");window.$mobile("analyticsEcommerce",{screenName:n,event:"delivery_product_click",currencyCode:"MYR",productAction:{action:"click"},products:[{name:t.name,id:t.id,price:t.price[window.$STORE.delivery.locationGroup],brand:"KFC Delivery",category:t.tags,position:r+1}]})}else window.dataLayer.push({event:"delivery/productClick",ecommerce:{currencyCode:"MYR",click:{actionField:{list:this.$route.params.category+"/"+this.$route.params.subcategory},products:[{name:t.name,id:t.id,price:t.price[window.$STORE.delivery.locationGroup],brand:"KFC Delivery",category:t.tags,position:r+1}]}}});this.orderNow(t.slug)}}}}).call(this,r(2))}}]);